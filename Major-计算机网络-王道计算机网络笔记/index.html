<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="考研的王道计算机课程学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="王道计算机网络笔记">
<meta property="og:url" content="http://blog.gddfeng.com/Major-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%8E%8B%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="孤独的風">
<meta property="og:description" content="考研的王道计算机课程学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-09-26T08:40:16.000Z">
<meta property="article:modified_time" content="2021-10-04T08:40:50.000Z">
<meta property="article:author" content="gddFeng">
<meta property="article:tag" content="计算机网络">
<meta property="article:tag" content="课堂笔记">
<meta property="article:tag" content="考研学习">
<meta name="twitter:card" content="summary"><title>王道计算机网络笔记 | 孤独的風</title><link ref="canonical" href="http://blog.gddfeng.com/Major-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%8E%8B%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/课堂笔记/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">课堂笔记</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return false;"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">编程语言</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/编程语言/c/"><span class="header-nav-submenu-item__text">C++</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/编程语言/蓝桥/"><span class="header-nav-submenu-item__text">蓝桥</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return false;"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">考研学习</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/考研学习/计算机网络/"><span class="header-nav-submenu-item__text">计算机网络</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/考研学习/计算机操作系统/"><span class="header-nav-submenu-item__text">计算机操作系统</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return false;"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">渗透测试</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/渗透测试/SQL注入/"><span class="header-nav-submenu-item__text">SQL注入</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">王道计算机网络笔记</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-09-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-10-04</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">30.3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">161分</span></span></div></header><div class="post-body">
        <h1 id="第1章——计算机网络体系结构"   >
          <a href="#第1章——计算机网络体系结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#第1章——计算机网络体系结构" class="headerlink" title="第1章——计算机网络体系结构"></a>第1章——计算机网络体系结构</h1>
      
        <h2 id="1-1-计算机网络概述"   >
          <a href="#1-1-计算机网络概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-计算机网络概述" class="headerlink" title="1.1 计算机网络概述"></a>1.1 计算机网络概述</h2>
      
        <h3 id="1-概念、组成、功能和分类"   >
          <a href="#1-概念、组成、功能和分类" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-概念、组成、功能和分类" class="headerlink" title="1. 概念、组成、功能和分类"></a>1. 概念、组成、功能和分类</h3>
      <p>计算机网络：是一个将分散的、具有独立功能的<strong>计算机系统</strong>，通过<strong>通信设备</strong>与<strong>线路</strong>连接起来，由功能完善的<strong>软件</strong>实现<strong>资源共享</strong>和<strong>信息传递</strong>的系统。</p>
<ul>
<li><p>计算机网络是<strong>互连</strong>的、<strong>自治</strong>的计算机集合。</p>
<ul>
<li>互连指互联互通 <em>通信链路</em></li>
<li>无主从关系</li>
</ul>
</li>
<li><p>计算机网络的功能</p>
<ol>
<li> 数据通信（连通性）</li>
<li> 资源共享（硬件、软件、数据）</li>
<li> 分布式处理</li>
<li> 提高可靠性</li>
<li> 负载均衡</li>
<li> ……</li>
</ol>
</li>
<li><p>计算机网络的组成</p>
<ol>
<li>组成部分<ul>
<li>硬件</li>
<li>软件</li>
<li>协议</li>
</ul>
</li>
<li>工作方式<ul>
<li>边缘系统<ul>
<li>C/S模式</li>
<li>P2P模式</li>
</ul>
</li>
<li>核心部分<ul>
<li>为边缘部分服务</li>
</ul>
</li>
</ul>
</li>
<li>功能组成<ul>
<li>通信子网<ul>
<li>  实现<strong>数据通信</strong></li>
<li>  各种传输介质、通信设备、相应的网络协议组成</li>
</ul>
</li>
<li>资源子网 <ul>
<li>  实现<strong>资源共享</strong>/数据处理</li>
<li>  实现资源共享功能的设备和软件的集合</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>计算机网络的分类</p>
<ol>
<li>按分布范围分<ul>
<li>广域网WAN<ul>
<li>交换技术</li>
</ul>
</li>
<li>城域网MAN</li>
<li>局域网WAN<ul>
<li>广播技术</li>
</ul>
</li>
<li>个人区域网PAN</li>
</ul>
</li>
<li>按使用者分<ul>
<li>公用网<ul>
<li>  三大运营商</li>
</ul>
</li>
<li>专用网<ul>
<li>  政府、军队</li>
</ul>
</li>
</ul>
</li>
<li>按交换技术分<ul>
<li>  电路交换</li>
<li>  报文交换</li>
<li>  分组交换</li>
</ul>
</li>
<li>按拓补结构分<ul>
<li>  总线型</li>
<li>  星型</li>
<li>  环型</li>
<li>网状型<ul>
<li>  常用于广域网</li>
</ul>
</li>
</ul>
</li>
<li>按传输技术分<ul>
<li>广播式网络<ul>
<li>共享公共通信信道</li>
</ul>
</li>
<li>点对点网络<ul>
<li>使用<strong>分组存储转发</strong>和<strong>路由选择</strong>机制</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>

        <h3 id="2-计算机网络标准化工作及相关组织"   >
          <a href="#2-计算机网络标准化工作及相关组织" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-计算机网络标准化工作及相关组织" class="headerlink" title="2. 计算机网络标准化工作及相关组织"></a>2. 计算机网络标准化工作及相关组织</h3>
      
        <h4 id="标准化工作"   >
          <a href="#标准化工作" class="heading-link"><i class="fas fa-link"></i></a><a href="#标准化工作" class="headerlink" title="标准化工作"></a>标准化工作</h4>
      <p>要实现不同厂商的软硬件之间相互通信，必须遵从统一的标准。</p>
<ul>
<li>标准的分类<ul>
<li>法定标准<ul>
<li>由权威机构制定的正式的、合法的标准</li>
<li>如：OSI</li>
</ul>
</li>
<li>事实标准<ul>
<li>某些公司的产品在竞争中占据了主流，时间长了，这些产品中的协议和技术就成了标准</li>
<li>如：TCP/IP</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="RFC及其发展为因特网标准的四个阶段"   >
          <a href="#RFC及其发展为因特网标准的四个阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#RFC及其发展为因特网标准的四个阶段" class="headerlink" title="RFC及其发展为因特网标准的四个阶段"></a>RFC及其发展为因特网标准的四个阶段</h4>
      <ul>
<li>RFC(Request For Comments)——因特网标准的形式<ol>
<li> 因特网草案(Internet Draft) 这个阶段还不是RFC文档</li>
<li> 建议标准(Proposed Standard) 从这个阶段开始称为RFC文档</li>
<li> 草案标准(Draft Standard) IETF、IAB审核，2011年取消了该阶段</li>
<li> 成为因特网标准(Internet Standard)</li>
</ol>
</li>
</ul>

        <h4 id="标准化工作的相关组织"   >
          <a href="#标准化工作的相关组织" class="heading-link"><i class="fas fa-link"></i></a><a href="#标准化工作的相关组织" class="headerlink" title="标准化工作的相关组织"></a>标准化工作的相关组织</h4>
      <ul>
<li>ISO 国际标准化组织<ul>
<li>案例：OSI参考模型</li>
<li>HDLC协议</li>
</ul>
</li>
<li>ITU 国际电信联盟<ul>
<li>制定通信规则</li>
</ul>
</li>
<li>IEEE 国际电气电子工程师协会<ul>
<li>学术机构</li>
<li>IEEE802系列标准</li>
<li>5G</li>
</ul>
</li>
<li>IETF Internet工程任务组<ul>
<li>负责因特网相关标准的制定</li>
<li>RFC XXXX</li>
</ul>
</li>
</ul>

        <h3 id="3-性能指标之速率、带宽、吞吐量"   >
          <a href="#3-性能指标之速率、带宽、吞吐量" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-性能指标之速率、带宽、吞吐量" class="headerlink" title="3.性能指标之速率、带宽、吞吐量"></a>3.性能指标之速率、带宽、吞吐量</h3>
      
        <h4 id="速率"   >
          <a href="#速率" class="heading-link"><i class="fas fa-link"></i></a><a href="#速率" class="headerlink" title="速率"></a>速率</h4>
      <p>速率即<strong>数据率</strong>或称<strong>数据传输率</strong>或<strong>比特率</strong>。</p>
<p>连接在计算机网络上的<strong>主机</strong>在数字信道上传送数据<strong>位数的速率</strong>。</p>
<ul>
<li>速率<ul>
<li>kb/s</li>
<li>Mb/s</li>
<li>Gb/s</li>
<li>Tb/s</li>
<li>倍数是10的3次方</li>
</ul>
</li>
<li>存储容量<ul>
<li>1 Byte(字节) = 8 bit(比特)</li>
<li>1KB = 1024 B</li>
<li>1MB = 1024 KB</li>
<li>1GB = 1024 MB</li>
<li>1TB = 1024 GB</li>
<li>倍数为1024倍</li>
</ul>
</li>
</ul>

        <h4 id="带宽"   >
          <a href="#带宽" class="heading-link"><i class="fas fa-link"></i></a><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h4>
      <ol>
<li>“带宽”原本指某个信号具有的频带宽度，即最高频率与最低频率之差，单位是盒子(Hz)。</li>
<li>计算机网络中，带宽用来表示传输数据时的最高数据率</li>
<li>带宽越高，在单位时间内发送的数据信号密度越大</li>
</ol>

        <h4 id="吞吐量"   >
          <a href="#吞吐量" class="heading-link"><i class="fas fa-link"></i></a><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h4>
      <p>表示在<strong>单位时间</strong>内通过**某个网络(或信道、接口)**的数据量。</p>
<p>吞吐量受网络的带宽或网络的额定速率的限制，服务器性能以及网线等原因都会影响吞吐量。</p>

        <h3 id="4-时延、时延带宽积、RTT和利用率"   >
          <a href="#4-时延、时延带宽积、RTT和利用率" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-时延、时延带宽积、RTT和利用率" class="headerlink" title="4. 时延、时延带宽积、RTT和利用率"></a>4. 时延、时延带宽积、RTT和利用率</h3>
      
        <h4 id="时延"   >
          <a href="#时延" class="heading-link"><i class="fas fa-link"></i></a><a href="#时延" class="headerlink" title="时延"></a>时延</h4>
      <p>指数据(报文/分组/比特流)从网络(或链路)的一段传送到另一端所需的时间。也叫<code>延迟</code>或<code>迟延</code>。单位是s。</p>
<ul>
<li>时延<ol>
<li>发送时延(传输时延)<ul>
<li>  从发送分组的第一个比特算起，到该分组的最后一个比特发送完毕所需的时间</li>
<li>  发送时延 = 数据长度/信道带宽</li>
<li>  <strong>高速链路</strong>是提高发送速率，减小了发送时延！</li>
</ul>
</li>
<li>传播时延<ul>
<li>  取决于电磁波传播速率和链路长度</li>
<li>  固体传播速率比在真空中要慢点</li>
<li>  传播时延 = 信道长度/电磁波在信道上的传播率</li>
</ul>
</li>
<li>排队时延<ul>
<li>  等待输出\输入链路可用</li>
<li>  其实就是在路由器缓存区等待转发的时间</li>
</ul>
</li>
<li>处理实验<ul>
<li>  路由器进行校验以及通过路由表查询路径</li>
</ul>
</li>
</ol>
</li>
</ul>

        <h4 id="时延带宽积"   >
          <a href="#时延带宽积" class="heading-link"><i class="fas fa-link"></i></a><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h4>
      <p>有多少数据在链路中：<br><code>时延带宽积 = 传播时延 X 带宽</code><br>时延带宽积又称为以<strong>比特为单位的链路长度</strong>。</p>

        <h4 id="往返时延RTT-roud-trip-time"   >
          <a href="#往返时延RTT-roud-trip-time" class="heading-link"><i class="fas fa-link"></i></a><a href="#往返时延RTT-roud-trip-time" class="headerlink" title="往返时延RTT(roud trip time)"></a>往返时延RTT(roud trip time)</h4>
      <p>从发送方发送数据开始，到发送方收到接收方的确认，总经历的时延。</p>
<p>RTT越大，在收到确认之前，可以发送的数据越多。</p>
<ul>
<li>RTT包括<ul>
<li>往返传播时延 = 传播时延 * 2<ul>
<li>  主要时间</li>
</ul>
</li>
<li>末端处理时间<ul>
<li>  通常忽略</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="利用率"   >
          <a href="#利用率" class="heading-link"><i class="fas fa-link"></i></a><a href="#利用率" class="headerlink" title="利用率"></a>利用率</h4>
      <ul>
<li>利用率<ul>
<li>信道利用率<ul>
<li><code>有数据通过时间\(有+无)数据通过时间</code></li>
</ul>
</li>
<li>网络利用率<ul>
<li>信道利用率加权平均值</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>利用率趋近于1时，时延呈指数级增长，从而导致速率被降低</p>

        <h2 id="1-2-计算机网络体系结构与参考模型"   >
          <a href="#1-2-计算机网络体系结构与参考模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-计算机网络体系结构与参考模型" class="headerlink" title="1.2 计算机网络体系结构与参考模型"></a>1.2 计算机网络体系结构与参考模型</h2>
      
        <h3 id="1-分层结构、协议、接口、服务"   >
          <a href="#1-分层结构、协议、接口、服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-分层结构、协议、接口、服务" class="headerlink" title="1. 分层结构、协议、接口、服务"></a>1. 分层结构、协议、接口、服务</h3>
      
        <h4 id="为什么要分层？"   >
          <a href="#为什么要分层？" class="heading-link"><i class="fas fa-link"></i></a><a href="#为什么要分层？" class="headerlink" title="为什么要分层？"></a>为什么要分层？</h4>
      <ul>
<li>发送文件前要完成的工作：<ol>
<li>发起通信的计算机必须将数据通信的通路进行<strong>激活</strong>。</li>
<li>要告诉网络如何识别目的主机</li>
<li>发起通信的计算机要查明目的主机是否开机，并且与网络连接正常</li>
<li>发起通信的计算机要弄清楚，对方计算机中文件管理程序是否已经做好准备工作</li>
<li>确保差错和以外可以解决</li>
</ol>
</li>
</ul>

        <h4 id="怎么分层？"   >
          <a href="#怎么分层？" class="heading-link"><i class="fas fa-link"></i></a><a href="#怎么分层？" class="headerlink" title="怎么分层？"></a>怎么分层？</h4>
      <ul>
<li>分层的基本原则<ol>
<li> 各层之间相互<strong>独立</strong>，每层只实现一种相对独立的功能。</li>
<li> 各层之间<strong>界面自然清晰</strong>，易于理解，相互交流尽可能少。</li>
<li> 结构上可分割开。每层都采用<strong>最合适的技术</strong>来实现。</li>
<li> 保持<strong>下层</strong>对<strong>上层</strong>的独立性，<strong>上层单向使用下层提供的服务</strong>。</li>
<li> 整个分层结构应该能促进标准化工作。</li>
</ol>
</li>
</ul>

        <h4 id="正式认识分层结构"   >
          <a href="#正式认识分层结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#正式认识分层结构" class="headerlink" title="正式认识分层结构"></a>正式认识分层结构</h4>
      <ul>
<li>正式认识分层结构<ol>
<li> 实体：第n层中的活动元素称为<strong>n层实体</strong>。同一层的实体叫做<strong>对等实体</strong>。</li>
<li>协议：为进行网络中的<strong>对等实体</strong>数据交换而建立的规则、标准或约定称为网络协议。【协议是水平的】<ul>
<li>语法：规定传输数据的格式</li>
<li>语义：规定所要完成的功能</li>
<li>同步：规定各种操作的顺序</li>
</ul>
</li>
<li>接口(访问服务点SAP)：上层使用下层服务的入口。</li>
<li>服务：下层为相邻上层提供的功能调用。【垂直】</li>
</ol>
</li>
</ul>
<p><code>PDU = PCI + SDU</code></p>
<ul>
<li>SDU服务数据单元：为完成用户所要求的功能而应传送的数据</li>
<li>PCI协议控制信息：控制协议操作的信息。</li>
<li>PDU协议数据单元：对等层次之间传送的数据单位</li>
</ul>

        <h4 id="概念总结"   >
          <a href="#概念总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念总结" class="headerlink" title="概念总结"></a>概念总结</h4>
      <ul>
<li>网络体系结构是从<strong>功能</strong>上描述计算机网络结构。</li>
<li>计算机网络体系结构简称网络体系结构是<strong>分层结构</strong></li>
<li>每层遵循某个/些<strong>网络协议</strong>以完成本层功能。</li>
<li><strong>计算机网络体系结构</strong>是计算机网络的<strong>各层及其协议</strong>的集合。</li>
<li>在n层在向n+1层提供服务时，此服务不仅包含第n层本身的功能，还包含由下层服务提供的功能。</li>
<li>仅仅在<strong>相邻层间有接口</strong>，且所提供服务的具体实现细节对上一层完全屏蔽。</li>
<li>体系结构是<strong>抽象</strong>的，而实现是指能运行的一些软件和硬件。</li>
</ul>

        <h3 id="2-OSI参考模型"   >
          <a href="#2-OSI参考模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-OSI参考模型" class="headerlink" title="2. OSI参考模型"></a>2. OSI参考模型</h3>
      <ul>
<li>计算机网络分层结构<ul>
<li>7层OSI参考模型（法定标准）</li>
<li>4层TCP/IP参考模型（事实标准）</li>
<li>5层的体系结构（仅供学习）</li>
</ul>
</li>
</ul>

        <h4 id="ISO-OSI参考模型——怎么来的？"   >
          <a href="#ISO-OSI参考模型——怎么来的？" class="heading-link"><i class="fas fa-link"></i></a><a href="#ISO-OSI参考模型——怎么来的？" class="headerlink" title="ISO/OSI参考模型——怎么来的？"></a>ISO/OSI参考模型——怎么来的？</h4>
      <p>为了解决计算机网络复杂的大问题，按功能设计分层结构，目的是支持异构网络系统的互联互通。</p>

        <h4 id="ISO-OSI参考模型"   >
          <a href="#ISO-OSI参考模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#ISO-OSI参考模型" class="headerlink" title="ISO/OSI参考模型"></a>ISO/OSI参考模型</h4>
      <ol start="7">
<li> 应用层</li>
<li> 表示层</li>
<li> 会话层</li>
<li> 传输层</li>
<li> 网络层</li>
<li> 数据链路层</li>
<li> 物理层</li>
</ol>
<p>前四层端到端，后三层点到点</p>

        <h4 id="应用层"   >
          <a href="#应用层" class="heading-link"><i class="fas fa-link"></i></a><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4>
      <p>所有能和用户交互产生网络流量的程序。</p>
<ul>
<li>典型应用层服务：<ul>
<li>文件传输（FTP）</li>
<li>电子邮件（SMTP）</li>
<li>万维网（HTTP）</li>
</ul>
</li>
</ul>

        <h4 id="表示层"   >
          <a href="#表示层" class="heading-link"><i class="fas fa-link"></i></a><a href="#表示层" class="headerlink" title="表示层"></a>表示层</h4>
      <p>用于处理在两个通信系统中交换信息的表示方式（语法和语义）</p>
<p>功能：</p>
<ol>
<li> 数据格式变换</li>
<li> 数据加密解密</li>
<li> 数据压缩和恢复</li>
</ol>

        <h4 id="会话层"   >
          <a href="#会话层" class="heading-link"><i class="fas fa-link"></i></a><a href="#会话层" class="headerlink" title="会话层"></a>会话层</h4>
      <p>向表示层实体/用户进程提供<strong>建立连接</strong>并在连接上<strong>有序</strong>地<strong>传输</strong>数据。</p>
<p>这是会话，也是<strong>建立同步(SYN)</strong>.</p>
<p>功能：</p>
<ol>
<li>建立、管理、终止会话</li>
<li>使用校验点可使会话在通信时效时从<strong>校验点/同步点</strong>继续恢复通信，实现数据同步。<ul>
<li>适用于传输大文件</li>
<li>主要协议：ADSP、ASP</li>
</ul>
</li>
</ol>

        <h4 id="传输层"   >
          <a href="#传输层" class="heading-link"><i class="fas fa-link"></i></a><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h4>
      <p>负责主机中<strong>两个进程</strong>的通信，即<strong>端到端</strong>的通信。传输单位是报文段或用户数据报。</p>
<p>报文段就是数据切割后封装好形成的。</p>
<p>功能：</p>
<ol>
<li>可靠传输、不可靠传输<ul>
<li>TCP</li>
<li>UDP</li>
</ul>
</li>
<li>差错控制<ul>
<li>校验</li>
</ul>
</li>
<li>流量控制<ul>
<li>控制发送速度，用来协调</li>
</ul>
</li>
<li>复用分用<ul>
<li>复用：多个应用层进程可同时使用下面运输层的服务。</li>
<li>分用：运输层把收到的信息分别交付给上面应用层中相应的进程。</li>
</ul>
</li>
</ol>

        <h4 id="网络层"   >
          <a href="#网络层" class="heading-link"><i class="fas fa-link"></i></a><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h4>
      <p>主要任务是吧<strong>分组</strong>从源端传到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单位是<strong>数据报</strong>。</p>
<p>功能：</p>
<ol>
<li> 路由选择</li>
</ol>
<ul>
<li>根据网络状况规划最佳路径</li>
</ul>
<ol start="2">
<li> 流量控制</li>
<li> 差错控制</li>
<li> 拥塞控制</li>
</ol>
<ul>
<li>若所有结点都来不及接收分组，而要丢弃大量分组的话，网络就处于<strong>拥塞</strong>状态。因此要采取一定措施，缓解这种拥塞。</li>
</ul>
<p>主要协议：IP、IPX、ICMP、IGMP、ARP、RARP、OSPF</p>

        <h4 id="数据链路层"   >
          <a href="#数据链路层" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h4>
      <p>主要任务是把网络层传下来的数据报<strong>组装成帧</strong>。</p>
<p>数据链路层/链路层的传输单位是<strong>帧</strong>。</p>
<p>功能：</p>
<ol>
<li> 成帧(定义帧的开始和结束)</li>
<li> 差错控制  帧错+位错</li>
</ol>
<ul>
<li>根据出错情况，决定是检错还是丢</li>
</ul>
<ol start="3">
<li> 流量控制</li>
</ol>
<ul>
<li> 根据缓存情况确定，缓存快满了会被要求降速</li>
</ul>
<ol start="4">
<li> 访问（接入）控制</li>
</ol>
<ul>
<li> 控制对共享信道的访问</li>
</ul>
<p>主要协议：SDLC、HDLC、PPP、STP</p>

        <h4 id="物理层"   >
          <a href="#物理层" class="heading-link"><i class="fas fa-link"></i></a><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h4>
      <p>主要任务是在<strong>物理媒体</strong>上实现比特流的<strong>透明传输</strong>。<br>物理层传输单位是<strong>比特</strong>。</p>
<p>透明传输：指不管所传数据是什么样的比特组合，都应当能够在连路上传送。</p>
<p>功能：</p>
<ol>
<li>定义接口特性</li>
<li>定义传输模式<ul>
<li> 单工：只可以发送或接收</li>
<li> 半双工：可发送也可接收，但不能同时进行</li>
<li> 双工：可以同时发送和接收</li>
</ul>
</li>
<li> 定义传输速率</li>
<li> 比特同步</li>
<li> 比特编码</li>
</ol>
<p>主要协议：Rj45、802.3</p>

        <h3 id="3-TCP-IP参考模型和5层参考模型"   >
          <a href="#3-TCP-IP参考模型和5层参考模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-TCP-IP参考模型和5层参考模型" class="headerlink" title="3. TCP/IP参考模型和5层参考模型"></a>3. TCP/IP参考模型和5层参考模型</h3>
      <p>TCP/IP参考模型是现有实践，后有的模型</p>
<p>TCP/IP参考模型：<br>4. 应用层<br>3. 传输层<br>2. 网际层</p>
<ol>
<li>网络接口层</li>
</ol>
<p>TCP/IP协议栈：<br>4. HTTP|FTP|DNS<br>3. TCP|UDP<br>2. IP</p>
<ol>
<li>Ethernet|ATM|Frame Relay</li>
</ol>

        <h4 id="OSI和TCP-IP参考模型相同点"   >
          <a href="#OSI和TCP-IP参考模型相同点" class="heading-link"><i class="fas fa-link"></i></a><a href="#OSI和TCP-IP参考模型相同点" class="headerlink" title="OSI和TCP/IP参考模型相同点"></a>OSI和TCP/IP参考模型相同点</h4>
      <ol>
<li>都分层</li>
<li>基于独立的协议栈概念</li>
<li>可以实现异构网络互连</li>
</ol>

        <h4 id="OSI模型与TCP-IP模型的不同点"   >
          <a href="#OSI模型与TCP-IP模型的不同点" class="heading-link"><i class="fas fa-link"></i></a><a href="#OSI模型与TCP-IP模型的不同点" class="headerlink" title="OSI模型与TCP/IP模型的不同点"></a>OSI模型与TCP/IP模型的不同点</h4>
      <ol>
<li>OSI定义三点：服务、协议、接口</li>
<li>OSI先出现，参考模型先于协议发明，不偏向特定协议</li>
<li>TCP/IP设计之初就考虑到异构网互连问题，将IP作为重要层次。</li>
</ol>
<ul>
<li>网络层-IP协议<ul>
<li>ISO/OSI参考模型<ul>
<li>无连接</li>
<li>面向连接</li>
</ul>
</li>
<li>TCP/IP模型<ul>
<li>无连接</li>
</ul>
</li>
</ul>
</li>
<li>传输层<ul>
<li>ISO/OSI参考模型<ul>
<li>面向连接</li>
</ul>
</li>
<li>TCP/IP模型<ul>
<li>无连接</li>
<li>面向连接</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>面向连接：</p>
<ol>
<li>建立连接：发送建立连接请求。</li>
<li>传输：擦混输数据</li>
<li>释放连接：切断建立的连接。</li>
</ol>
<p>无连接：</p>
<ol>
<li>直接传输数据</li>
</ol>

        <h4 id="5层参考模型"   >
          <a href="#5层参考模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#5层参考模型" class="headerlink" title="5层参考模型"></a>5层参考模型</h4>
      <ol start="5">
<li>网络层：支持各种网络应用 FTP、SMTP、HTTP</li>
<li>传输层：进程-进程之间的数据传输 TCP、UDP</li>
<li>网络成：源主机到目的主机的数据分组路由与转发 IP、ICMP、OSPE等</li>
<li>数据链路层： 把网络层传下来的数据报组装成帧 Ethernet、PPP</li>
<li>物理层：比特传输</li>
</ol>

        <h1 id="第2章——物理层"   >
          <a href="#第2章——物理层" class="heading-link"><i class="fas fa-link"></i></a><a href="#第2章——物理层" class="headerlink" title="第2章——物理层"></a>第2章——物理层</h1>
      
        <h2 id="2-1-通信基础"   >
          <a href="#2-1-通信基础" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-通信基础" class="headerlink" title="2.1 通信基础"></a>2.1 通信基础</h2>
      <ol>
<li>通信基础</li>
<li>两个公式 lim <em>重点</em></li>
<li>看图说话</li>
<li>传输介质</li>
<li>物理层设备</li>
<li>
        <h3 id="1-物理层的基本概念"   >
          <a href="#1-物理层的基本概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-物理层的基本概念" class="headerlink" title="1. 物理层的基本概念"></a>1. 物理层的基本概念</h3>
      </li>
</ol>
<p>物理层解决如何在连接各种计算机的传输媒体上<strong>传输数据比特流</strong>，而不是指具体的差UN属媒体。</p>
<p>物理层主要任务：确定与传输媒体<strong>接口</strong>有关的一些特性，规格等</p>
<p>特性：</p>
<ol>
<li>机械特性：定义物理连接的特性，规定物理连接时所采用的规格、借口形状、引线数目、引脚数量和排列情况。</li>
<li>电气特性：规定传输二进制位时，线路上信号的<strong>电压范围</strong>、阻抗匹配、传输<strong>速率</strong>和<strong>距离</strong>限制等。</li>
<li>功能特性：指明某条线上出现的某一<strong>电平表示何种意义</strong>，就扣不见得信号线的用途。</li>
<li>过程特性（过程特性）：定义各条物理线路的工作<strong>规程和时序</strong>关系。</li>
</ol>

        <h3 id="2-数据通信基础知识"   >
          <a href="#2-数据通信基础知识" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-数据通信基础知识" class="headerlink" title="2. 数据通信基础知识"></a>2. 数据通信基础知识</h3>
      
        <h4 id="数据通信相关术语"   >
          <a href="#数据通信相关术语" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据通信相关术语" class="headerlink" title="数据通信相关术语"></a>数据通信相关术语</h4>
      <p>通信的目的是<strong>传送消息</strong>。</p>
<p>数据：传送信息的实体。通常是有意义的符号序列。</p>
<p>信号：数据的电气/电磁的表现，是数据在传输过程中的<strong>存在形式</strong>。</p>
<ul>
<li>数字信号：代表消息的参数取值是离散的。</li>
<li>模拟信号：代表消息的参数取值是连续的。</li>
</ul>
<p>信源：产生和发送数据的源头。</p>
<p>信宿：接收数据的重点。</p>
<p>信道：信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。</p>
<ul>
<li>传输信号<ul>
<li>模拟信道</li>
<li>梳子信道</li>
</ul>
</li>
<li>传输介质<ul>
<li>无线信道</li>
<li>有线信道</li>
</ul>
</li>
</ul>

        <h4 id="三种通信方式"   >
          <a href="#三种通信方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#三种通信方式" class="headerlink" title="三种通信方式"></a>三种通信方式</h4>
      <ol>
<li>单工通信：只有一个方向的通信而没有反方向的交互，仅需要<strong>一条</strong>信道。</li>
<li>半双工通信：通信的双方都可以发送或接收信息，但任何一方都不能同时发送和接收，需要<strong>两条</strong>信道。这两条信道都是既可以做发送方也可以做接收方。</li>
<li>全双工通信：通信双方可以同时发送和接收信息，也需要<strong>两条</strong>信道。</li>
</ol>

        <h4 id="两种数据传输方式"   >
          <a href="#两种数据传输方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#两种数据传输方式" class="headerlink" title="两种数据传输方式"></a>两种数据传输方式</h4>
      <ul>
<li>串行传输<ul>
<li>单线程，单信道</li>
<li>速度慢、费用低、适合远距离</li>
</ul>
</li>
<li>并行传输<ul>
<li>多线程，多信道</li>
<li>速度快、费用高、适合计算机内部传输</li>
<li>打印机、扫描仪的插口就是<strong>并口</strong>（并行传输）</li>
</ul>
</li>
</ul>

        <h3 id="3-码元、波特、速率、带宽"   >
          <a href="#3-码元、波特、速率、带宽" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-码元、波特、速率、带宽" class="headerlink" title="3. 码元、波特、速率、带宽"></a>3. 码元、波特、速率、带宽</h3>
      
        <h4 id="码元"   >
          <a href="#码元" class="heading-link"><i class="fas fa-link"></i></a><a href="#码元" class="headerlink" title="码元"></a>码元</h4>
      <p><strong>码元</strong>是指一个<strong>固定时长</strong>的<strong>信号波形</strong>(数字脉冲)，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，而该时长称为码元宽度。当码元的离散状态有M个时(M大于2)，此时码元为M进制码元。</p>
<p><strong>1码元可以携带多个比特的信息量</strong>。例如，再使用二进制编码时，只有两种不同的码元，一种代表0状态，另一种代表1状态。</p>

        <h4 id="速率、波特、带宽"   >
          <a href="#速率、波特、带宽" class="heading-link"><i class="fas fa-link"></i></a><a href="#速率、波特、带宽" class="headerlink" title="速率、波特、带宽"></a>速率、波特、带宽</h4>
      <p>速率也叫数据率，是指数据的<strong>传输速率</strong>，表示单位时间内传输的数据量。可以用<strong>码元传输速率</strong>和<strong>信息传输速率</strong>表示。</p>
<ol>
<li>码元传输速率：别名码元速率、波形速率、调制速率、符号速率等，它表示单位时间内数字通信系统所传输的码元个数(也可以称为<strong>脉冲个数或信号变化的次数</strong>)，单位是<strong>波特</strong>。1波特表示数字通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的，但码元速率与进制数无关。</li>
<li>信息传输速率：别名信息速率、比特率等，表示单位时间内数字通信系统传输的二进制码元个数(即比特数)，单位是比特/秒(b/s)。<ul>
<li>关系：若一个码元携带n bit的信息量，则M Baud的码元传输速率所对应的信息传输速率为M X b bit/s。</li>
</ul>
</li>
</ol>
<p>带宽：表示在单位时间内从网络中的某一点到另一点所能通过的“<strong>最高数据率</strong>”，常用来表示网络的通信线路所能传输数据的能力。单位是b/s。</p>

        <h3 id="4-奈氏准则和香农定理"   >
          <a href="#4-奈氏准则和香农定理" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-奈氏准则和香农定理" class="headerlink" title="4. 奈氏准则和香农定理"></a>4. 奈氏准则和香农定理</h3>
      <p>在这两个定理中带宽用Hz。</p>

        <h4 id="失真"   >
          <a href="#失真" class="heading-link"><i class="fas fa-link"></i></a><a href="#失真" class="headerlink" title="失真"></a>失真</h4>
      <p>现实中的信道因为带宽受限、有噪声、干扰让信号波形走形</p>
<p>有的失真仍能被识别，但有的失真无法被识别</p>
<p>影响失真程度的因素： </p>
<ol>
<li> 码元传输速率</li>
</ol>
<ul>
<li> 传输越快，失真程度越严重</li>
</ul>
<ol start="2">
<li> 信号传输距离</li>
<li> 噪声干扰</li>
<li> 传输媒体质量</li>
</ol>

        <h4 id="失真的一种现象——码间串扰"   >
          <a href="#失真的一种现象——码间串扰" class="heading-link"><i class="fas fa-link"></i></a><a href="#失真的一种现象——码间串扰" class="headerlink" title="失真的一种现象——码间串扰"></a>失真的一种现象——码间串扰</h4>
      <p><strong>信道带宽</strong>是信道能通过的<strong>最高频率和最低频率之差</strong>。</p>
<p>低带宽会和噪音融合，无法识别，高带宽会造成码间串扰。</p>
<p>码间串扰：<strong>接收端</strong>收到的信号波形<strong>失去了码元之间清晰界限</strong>的现象。</p>

        <h4 id="奈氏准侧-奈奎斯特定理"   >
          <a href="#奈氏准侧-奈奎斯特定理" class="heading-link"><i class="fas fa-link"></i></a><a href="#奈氏准侧-奈奎斯特定理" class="headerlink" title="奈氏准侧(奈奎斯特定理)"></a>奈氏准侧(奈奎斯特定理)</h4>
      <p>奈氏准则：在理想低通(无噪声，带宽受限)条件下，为了避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是Hz。</p>
<p>理想低通信道下<code>极限数据传输率=2Wlog2 V(b/s)</code>，其中<code>W</code>是<code>带宽(HZ)</code>,<code>V</code>是<code>几种码元/码元的离散电平数目</code>。</p>
<ol>
<li>在任何信道中，<strong>码元传输的速率是有上线的</strong>。若传输速率超过此上线，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别成为不可能。</li>
<li>信道的<strong>频带越宽</strong>(即能通过的信号高频分量越多)，就可以用更高的速率进行码元的有效传输。</li>
<li>奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出了限制。</li>
<li>由于码元的传输速率受奈氏准则的制约，所以要提高数据传输速率，就必须设法使每个码元能携带更多个比特的信息量，这就需要采用多元制的调制方法。</li>
</ol>

        <h4 id="香农定理"   >
          <a href="#香农定理" class="heading-link"><i class="fas fa-link"></i></a><a href="#香农定理" class="headerlink" title="香农定理"></a>香农定理</h4>
      <p><strong>噪声</strong>存在于所有的电子设备和通信信道中。由于噪声随机产生，它的瞬间值有时会很大，因此噪声会使接收端对码元的判决产生错误。但是噪声的音响是相对的，若信号较强，那么噪声影响相对较小。因此，<strong>信噪比</strong>就很重要。</p>
<p><code>信噪比 = 信号的平均功率/噪声的平均功率</code>，常记为S/N，应用分贝(dB)作为度量单位，即：<code>信噪比(dB) = 10log10 (S/N)</code> <em>数值等价</em></p>
<p>香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。</p>
<p><code>信道的极限数据传输速率 = Wlog2 (1+S/N) (b/s)</code></p>
<ol>
<li>信道的<strong>带宽</strong>或信道中的<strong>信噪比</strong>越大，则信息的极限传输速率就<strong>越高</strong>。</li>
<li>对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了。</li>
<li>只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现<strong>无差错的传输</strong>。</li>
<li>香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要比它低不少。</li>
<li>从香农定理可以看出，若信道带宽W或信噪比S/N没有上限(不可能)，那么新到的极限信息传输速率也就没有上限。</li>
</ol>

        <h4 id="奈氏和香农如何选择"   >
          <a href="#奈氏和香农如何选择" class="heading-link"><i class="fas fa-link"></i></a><a href="#奈氏和香农如何选择" class="headerlink" title="奈氏和香农如何选择"></a>奈氏和香农如何选择</h4>
      <ul>
<li>奈氏准则<ul>
<li>内忧</li>
<li>带宽受限无噪声条件下，为了避免码间串扰，码元传输速率的上限<code>2W</code>波特。</li>
<li>理想低通信道下<code>极限数据传输率 = 2Wlog2 V</code></li>
<li>想要提高数据率，就要提高带宽/采用更好的编码技术</li>
</ul>
</li>
<li>香农定理<ul>
<li>外患</li>
<li>带宽受限有噪声条件下的信息传输速率。</li>
<li><code>信道的极限数据传输速率 = Wlog2 (1+S/N)</code></li>
<li>要想提高数据率，就要提高带宽/信噪比</li>
</ul>
</li>
</ul>

        <h3 id="5-编码-amp-调制"   >
          <a href="#5-编码-amp-调制" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-编码-amp-调制" class="headerlink" title="5. 编码&amp;调制"></a>5. 编码&amp;调制</h3>
      
        <h4 id="基带信号与宽带信号"   >
          <a href="#基带信号与宽带信号" class="heading-link"><i class="fas fa-link"></i></a><a href="#基带信号与宽带信号" class="headerlink" title="基带信号与宽带信号"></a>基带信号与宽带信号</h4>
      <p>信道：信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。</p>
<ul>
<li>传输信号<ul>
<li>模拟信道(传送模拟信号)</li>
<li>数字信道(传送数字信号)</li>
</ul>
</li>
<li>介质传输<ul>
<li>无线信道</li>
<li>有限信道</li>
</ul>
</li>
</ul>
<p>信道上传送的信号：</p>
<ul>
<li><p>基带信号</p>
<ul>
<li>将数字信号1和0直接用两种不用的电压表示，再传送到<strong>数字信道</strong>上去传输(基带传输)。<strong>来自信源</strong>的信号，想计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号就是发出的<strong>直接表达了要传输的信息的信号</strong>，比如我们说话的声波就是基带信号。</li>
</ul>
</li>
<li><p>宽带信号</p>
<ul>
<li>将基带信号进行调制后形成的频分复用模拟信号，再传送到<strong>模拟信道</strong>上去传输(宽带传输)。把基带信号经过<strong>载波调制</strong>后，吧信号的<strong>频率范围搬移</strong>到<strong>较高的频段</strong>以便在信道中传输(即仅在一段频率范围内能够通过信道)。</li>
</ul>
</li>
<li><p>在传输距离较近时，计算机网络采用<strong>基带传输</strong>方式(近距离衰减小，从而信号内容不易发生变化)</p>
</li>
<li><p>在传输距离较远时，计算机网络采用<strong>宽带传输</strong>方式(远距离衰减大，即使信号变化大也能最后过滤出来基带信号)</p>
</li>
</ul>

        <h4 id="编码与调制"   >
          <a href="#编码与调制" class="heading-link"><i class="fas fa-link"></i></a><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h4>
      <ul>
<li><p>数据<strong>编码</strong>为数字信号</p>
</li>
<li><p>数据<strong>调制</strong>为模拟信号</p>
</li>
<li><p>数字数据</p>
<ul>
<li>通过<strong>数字发送器</strong>转换为数字信号 <em>编码</em></li>
<li>通过<strong>调制器</strong>转换为模拟信号 <em>调制</em></li>
</ul>
</li>
<li><p>模拟数据</p>
<ul>
<li>通过<strong>PCM编码器</strong>转换为数字信号  <em>编码</em></li>
<li>通过<strong>放大器调制器</strong>转换为模拟信号 <em>调制</em></li>
</ul>
</li>
</ul>

        <h4 id="数字数据编码为数字信号"   >
          <a href="#数字数据编码为数字信号" class="heading-link"><i class="fas fa-link"></i></a><a href="#数字数据编码为数字信号" class="headerlink" title="数字数据编码为数字信号"></a>数字数据编码为数字信号</h4>
      <ol>
<li>非归零编码(NRZ)<ul>
<li>高1低0</li>
<li>编码容易实现，但没有检错功能，且无法判断一个码元的开始和结束，以至于收发双方<strong>难以保持同步</strong>。</li>
</ul>
</li>
<li>曼彻斯特编码<ul>
<li>将一个码元分成两个相等的间隔，前一个间隔为低电平后一个间隔为高电平表示码元1；码元0则账号相反。也可以采用相反的规定。该编码的特点是在每一个马院的中间出现电平跳变，位中间的跳变既作时钟信号(可用于同步)，又作数据信号，但它所占的频带宽度是原始基带宽度的两倍。</li>
<li>每一个码元都被调成两个电平，所以<strong>数据传输速率只有调制速率的二分之一</strong>。</li>
</ul>
</li>
<li>差分曼彻斯特编码<ul>
<li>前高后低为1</li>
<li>常用于局域网传输，其规则是：若码元为1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为0，则相反。该编码的特点是。在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性强于曼彻斯特编码。</li>
</ul>
</li>
<li>归零编码(RZ)<ul>
<li>信号电平在一个码元之内都要恢复到零的这种编码成编码方式。</li>
</ul>
</li>
<li>反向不归零编码(NRZI)<ul>
<li>信号电平翻转表示0，信号电平不变表示1。</li>
</ul>
</li>
<li>4B/5B编码<ul>
<li>比特流中插入额外的比特以打破一连串的0或1，就是用5个比特来编码4个比特的数据，之后再传给接收方，因此称为4B/5B。编码效率为80%。</li>
<li>只采用16种对应16种不同的4位码，其他的16种作为控制码(帧的开始和结束，线路的状态信息等)或保留。</li>
</ul>
</li>
</ol>

        <h4 id="数字信号调制为模拟信号"   >
          <a href="#数字信号调制为模拟信号" class="heading-link"><i class="fas fa-link"></i></a><a href="#数字信号调制为模拟信号" class="headerlink" title="数字信号调制为模拟信号"></a>数字信号调制为模拟信号</h4>
      <p>数字数据调制技术在发送端将数字信号转换为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器的调制过程和解调过程。</p>
<ul>
<li>2ASK调幅<ul>
<li>0无波1有波。</li>
</ul>
</li>
<li>2FSK调频<ul>
<li>0低频1高频。</li>
</ul>
</li>
<li>2PSK调相<ul>
<li>0余弦1正弦。</li>
</ul>
</li>
<li>QAM正交振幅调制(调幅+调相)</li>
</ul>

        <h4 id="模拟数据编码为数字信号"   >
          <a href="#模拟数据编码为数字信号" class="heading-link"><i class="fas fa-link"></i></a><a href="#模拟数据编码为数字信号" class="headerlink" title="模拟数据编码为数字信号"></a>模拟数据编码为数字信号</h4>
      <p>计算机内部处理的是二进制数据，处理的都是<strong>数字音频</strong>，所以需要将模拟音频通过采样、量化转换成有限个数字表示的离散序列(即实现<strong>音频数字化</strong>)。</p>
<p>最典型的例子就是对音频信号进行编码的脉码调制(<strong>PCM</strong>)，在计算机应用中，能够达到<strong>最高保真水平</strong>的就是PCM编码，被广泛用于素材保存及音乐欣赏，CD\DVD以及我们常见的WAV文件中均有应用。他主要包括三步：抽样、量化、编码。</p>
<ol>
<li>抽样：对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。为了使所得的离散信号能无失真地代表被抽样的模拟数据，要使用采样定理进行采样：<code>f采样频率 = 2f信号最高频率</code></li>
<li>量化：把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量。</li>
<li>编码：把量化的结果转换为与之对应的二进制编码。</li>
</ol>

        <h4 id="模拟数据调制为模拟信号"   >
          <a href="#模拟数据调制为模拟信号" class="heading-link"><i class="fas fa-link"></i></a><a href="#模拟数据调制为模拟信号" class="headerlink" title="模拟数据调制为模拟信号"></a>模拟数据调制为模拟信号</h4>
      <p>为了实现传输的有效性，可能需要较高的频率。这种调制方式还可以使用频分复用技术，充分利用带宽资源。在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式；模拟的声音数据是加载到模拟的载波信号中传输的。</p>

        <h2 id="2-2-物理层传输介质"   >
          <a href="#2-2-物理层传输介质" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-物理层传输介质" class="headerlink" title="2.2 物理层传输介质"></a>2.2 物理层传输介质</h2>
      
        <h3 id="传输介质及分类"   >
          <a href="#传输介质及分类" class="heading-link"><i class="fas fa-link"></i></a><a href="#传输介质及分类" class="headerlink" title="传输介质及分类"></a>传输介质及分类</h3>
      <p>传输介质也称传输媒体/传输媒介，它就是数据传输系统中在发送设备和接收设备之间的<strong>物理通路</strong>。</p>
<p>传输媒体并不是物理层</p>
<p>传输媒体在物理层的下面，因为物理层是体系结构的第一层，因此有时称传输媒体为0层。在传输媒体中传输的是信号，但传输媒体并不知道所传输的信号代表什么意思。但物理层规定了<strong>电气特性</strong>，因此能够识别所传送的比特流。</p>
<ul>
<li>传输介质<ul>
<li>导向性传输介质：电磁波被导向沿着固体媒体(铜线/光纤)传播。</li>
<li>非导向性传播介质：自由空间，介质可以是空气、真空、海水等。</li>
</ul>
</li>
</ul>

        <h3 id="导向性传输介质——双绞线"   >
          <a href="#导向性传输介质——双绞线" class="heading-link"><i class="fas fa-link"></i></a><a href="#导向性传输介质——双绞线" class="headerlink" title="导向性传输介质——双绞线"></a>导向性传输介质——双绞线</h3>
      <p>双绞线是古老、又最常用的传输介质，它用<strong>两根</strong>采用一定规则并排<strong>绞合</strong>的、相互绝缘的<strong>铜导线</strong>组成。</p>
<p><strong>绞合可以减少对相邻导线的电磁干扰。</strong></p>
<ul>
<li>无屏蔽双绞线</li>
<li>屏蔽双绞线</li>
</ul>
<p>为了进一步提高抗电磁干扰能力，可在双绞线的外面再加上一个由<strong>金属丝</strong>编织成的屏蔽层，这就是**屏蔽双绞线(STP)<strong>，无屏蔽层的双绞线就称为</strong>非屏蔽双绞线(UTP)**。</p>
<p>双绞线夹克便宜，在局域网和传统电话网中普遍使用。模拟传输和数字传输都可以使用双绞线，去通信距离一般为几公里到数十公里。距离太原市，对于<strong>模拟信号</strong>，要用<strong>放大器</strong>放大衰减的信号；对于<strong>数字信号</strong>，要用<strong>中继器</strong>将失真的信号整形。</p>

        <h3 id="导向性传输介质——同轴电缆"   >
          <a href="#导向性传输介质——同轴电缆" class="heading-link"><i class="fas fa-link"></i></a><a href="#导向性传输介质——同轴电缆" class="headerlink" title="导向性传输介质——同轴电缆"></a>导向性传输介质——同轴电缆</h3>
      <p>同轴电缆由<strong>导体铜制芯线</strong>、<strong>绝缘层</strong>、<strong>网状编织屏蔽层</strong>和<strong>塑料外层</strong>组成。按特性阻抗数值不同，通常将同轴电缆分为两类：50欧同轴电缆和75欧同轴电缆。其中，50欧同轴电缆主要用于传送基带数字信号，又称为<strong>基带同轴电缆</strong>，它在局域网中得到广泛应用；75欧同轴电缆主要用于传送宽带信号，又称为<strong>宽带同轴电缆</strong>，它主要用于有线电视系统。</p>

        <h3 id="导向性传输介质——光纤"   >
          <a href="#导向性传输介质——光纤" class="heading-link"><i class="fas fa-link"></i></a><a href="#导向性传输介质——光纤" class="headerlink" title="导向性传输介质——光纤"></a>导向性传输介质——光纤</h3>
      <p>光纤主要由<strong>纤芯(实心)<strong>和</strong>包层</strong>构成，光波通过纤芯进行传导，包层较纤芯有较低的折射率。当光线从高折射率的介质射向低折射率的介质时，其折射角度将大于入射角。因此，如果入射角足够大，就会出现<strong>全反射</strong>，即光线碰到包层时就会折射回纤芯，这个过程不断重复，光也就沿着光纤传输下去。</p>
<ul>
<li>多模光纤<ul>
<li>易失真，适合近距离传输</li>
</ul>
</li>
<li>单模光纤<ul>
<li>损耗小，适合远距离传输</li>
</ul>
</li>
</ul>
<p>光纤易折，一般将数十数百跟光纤捆至一起，形成<strong>光缆</strong>。</p>
<p>光纤的特点：</p>
<ol>
<li>传输损耗小，中继距离长，对远距离传输特别经济。</li>
<li>抗雷电和电磁干扰性能好。</li>
<li>无串音干扰，保密性好，也不容易被窃听或截取数据。</li>
<li>体积小，重量轻。</li>
</ol>

        <h3 id="非导向性传输介质"   >
          <a href="#非导向性传输介质" class="heading-link"><i class="fas fa-link"></i></a><a href="#非导向性传输介质" class="headerlink" title="非导向性传输介质"></a>非导向性传输介质</h3>
      <ul>
<li>无线电波<ul>
<li>较强穿透能力，可远距离传输，广泛用于通信领域(如手机通信)</li>
<li>信号向<strong>所有方向</strong>传播</li>
</ul>
</li>
<li>微波<ul>
<li>微波通信频率较高，频段范围宽，因此数据率很高<ul>
<li>地面微波接力通信</li>
<li>卫星通信<ul>
<li>优点<ol>
<li> 通信容量大</li>
<li> 距离远</li>
<li> 覆盖广</li>
<li> 广播通信和多址通信</li>
</ol>
</li>
<li> 缺点</li>
</ul>
<ol>
<li>传播时延长(250-270ms)</li>
<li>受气候影响大(eg:强风太阳黑子爆发、日凌)</li>
<li>误码率较高</li>
<li>成本高</li>
</ol>
</li>
</ul>
</li>
<li>信号<strong>固定方向</strong>传播</li>
</ul>
</li>
<li>红外线、激光<ul>
<li>把药传输的信号分别<strong>转换为各自的信号格式</strong>，即红外光信号和激光信号，再在空间中传播。</li>
<li>信号<strong>固定方向</strong>传播</li>
</ul>
</li>
</ul>

        <h2 id="2-3-物理层设备"   >
          <a href="#2-3-物理层设备" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-物理层设备" class="headerlink" title="2.3 物理层设备"></a>2.3 物理层设备</h2>
      
        <h3 id="中继器"   >
          <a href="#中继器" class="heading-link"><i class="fas fa-link"></i></a><a href="#中继器" class="headerlink" title="中继器"></a>中继器</h3>
      <p>诞生原因：由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误。</p>
<p>中继器的功能：对信号进行<strong>再生和还原</strong>，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。</p>
<p>中继器的两端：</p>
<ul>
<li>两端的网络部分是网段，而不是子网，适用于完全相同的<strong>两类</strong>网络的互连，且两个网段速率要相同。</li>
<li>中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并不管数据中是否有错误数据或不适于网段的数据。</li>
<li>两端可连相同媒体，也可连不同媒体。</li>
<li>中继器两端的网段一定要是同一个协议。(中继器不会存储转发)</li>
</ul>
<p>5-4-3规则：</p>
<ul>
<li>网络标准中对信号的延迟范围做了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障。</li>
<li>5：最多涉及5个网段</li>
<li>4：最多经过4个中继器</li>
<li>3：最多3个段可以挂工作站</li>
</ul>

        <h3 id="集线器-多口中继器"   >
          <a href="#集线器-多口中继器" class="heading-link"><i class="fas fa-link"></i></a><a href="#集线器-多口中继器" class="headerlink" title="集线器(多口中继器)"></a>集线器(多口中继器)</h3>
      <p>再生，放大信号</p>
<p>集线器的功能：对信号进行<strong>再生放大转发</strong>，对衰减的信号进行放大，接着转发到其他所有处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备。</p>
<p>遇到同时两个端口发生碰撞的现象则随机延时后再次通信。</p>
<p>集线器不能分隔冲突域，所以连在集线器上的工作主机平分带宽。</p>

        <h1 id="第3章——数据链路层"   >
          <a href="#第3章——数据链路层" class="heading-link"><i class="fas fa-link"></i></a><a href="#第3章——数据链路层" class="headerlink" title="第3章——数据链路层"></a>第3章——数据链路层</h1>
      
        <h2 id="3-1-数据链路层功能概述"   >
          <a href="#3-1-数据链路层功能概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-数据链路层功能概述" class="headerlink" title="3.1 数据链路层功能概述"></a>3.1 数据链路层功能概述</h2>
      <ol>
<li>链路层的功能</li>
<li>链路层的两种信道</li>
<li>局域网、广域网</li>
<li>链路层的设备</li>
</ol>

        <h3 id="数据链路层基本概述"   >
          <a href="#数据链路层基本概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据链路层基本概述" class="headerlink" title="数据链路层基本概述"></a>数据链路层基本概述</h3>
      <ul>
<li>结点：主机、路由器</li>
<li>链路：网络中两个结点之间的<strong>物理通道</strong>，链路的传输介质主要有双绞线、光纤和微波。分为有线链路、无线链路。</li>
<li>数据链路：网络中两个结点之间的<strong>逻辑通道</strong>，把实现控制数据传输<strong>协议</strong>的硬件和软件加到链路上就构成数据链路。</li>
<li>帧：链路层的协议数据单元，封装网络层数据报。</li>
</ul>
<p>数据链路层负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送数据报。</p>
<p>数据链路层在物理层提供服务的基础上<strong>向网络层提供服务</strong>，其最基本的服务是将源自网络层来的数据<strong>可靠</strong>地传输到相邻结点的目标机网络层。其主要作用是<strong>加强网络层传输原始比特流的功能</strong>，将物理层提供的可能出错的物理连接改造成为<strong>逻辑上无差错的数据链路</strong>，使之对网络层表现为一条无差错的链路。</p>
<p>功能：</p>
<ol>
<li>为网络层提供服务：<ul>
<li>无确认无连接服务</li>
<li>有确认无连接服务</li>
<li>有确认面向连接服务</li>
</ul>
</li>
<li>链路管理：<ul>
<li>建立</li>
<li>维持</li>
<li>释放</li>
</ul>
</li>
<li>组帧</li>
<li>流量控制</li>
<li>差错控制(帧错/位错)</li>
</ol>

        <h2 id="3-2-封装成帧和透明传输"   >
          <a href="#3-2-封装成帧和透明传输" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-封装成帧和透明传输" class="headerlink" title="3.2 封装成帧和透明传输"></a>3.2 封装成帧和透明传输</h2>
      <p>由于字节计算法中<code>Count</code>字段的脆弱性(其值若有差错将导致灾难性后果)及字符填充实现上的复杂性和不兼容性，目前普遍使用的帧同步法是<strong>比特填充</strong>和<strong>违规编码法</strong>。</p>

        <h3 id="封装成帧"   >
          <a href="#封装成帧" class="heading-link"><i class="fas fa-link"></i></a><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h3>
      <p><strong>封装成帧</strong>就是在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束。</p>
<p>首部和尾部包含许多的控制信息，他们的一个重要作用：<strong>帧定界</strong>(确定帧的界限)。</p>
<p>帧同步：<strong>接收方</strong>应当能从接收到的二进制比特流中区分出帧的起始和终止。</p>
<p>组帧的四种方法：</p>
<ol>
<li>字符计算法</li>
<li>字符填充法</li>
<li>零比特填充法</li>
<li>违规编码法</li>
</ol>

        <h3 id="透明传输"   >
          <a href="#透明传输" class="heading-link"><i class="fas fa-link"></i></a><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h3>
      <p><strong>透明传输</strong>是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就“看不见”有什么妨碍数据传输的东西。</p>
<p>当所传输数据中的比特组合恰巧与某一个控制信息完全一样时，就必须才去适当的措施，使收方不会将这样的数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。</p>

        <h3 id="1-字符计算法"   >
          <a href="#1-字符计算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-字符计算法" class="headerlink" title="1. 字符计算法"></a>1. 字符计算法</h3>
      <p>帧首部使用一个计数字段(第一个<strong>字节</strong>，八位)来表明帧内字符数。</p>
<p>缺点：第一个字符错，整个就错了。</p>

        <h3 id="2-字符填充法"   >
          <a href="#2-字符填充法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-字符填充法" class="headerlink" title="2. 字符填充法"></a>2. 字符填充法</h3>
      <p><code>00000001</code>是开始字节，<code>00000100</code>是结束字节</p>
<p>当传送的帧时由文本文件组成时(文本文件的字符都是从键盘上输入的，都是ASCII码)。不管从键盘上输入什么字符都可以放在帧里传过去，即<strong>透明传输</strong>。</p>
<p>当传送的帧时由非ASCII码的文本文件组成时(二进制代码的程序或图像等)。就要<strong>采用字符填充方法实现透明传输</strong>。</p>
<p>使用<code>转义字符ESC</code>在与控制字符<code>SOT、EOT</code>相同的数据转义，就不会造成冲突。</p>

        <h3 id="3-零比特填充法"   >
          <a href="#3-零比特填充法" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-零比特填充法" class="headerlink" title="3. 零比特填充法"></a>3. 零比特填充法</h3>
      <ol>
<li>在头尾插入<code>01111110</code></li>
<li>在发送端，扫描整个信息字段，只要连续5个1，就立即填入1个0</li>
<li>在接收端收到一个帧时，先找到标志字段确定边界，再用硬件对比特流进行扫描。发现连续5个1时，就把后面的0删除。</li>
</ol>
<p><strong>保证了透明传输：在传送的比特流中可以传送任意比特组合，而不会引起对帧边界的判断错误。</strong></p>

        <h3 id="4-违规编码"   >
          <a href="#4-违规编码" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-违规编码" class="headerlink" title="4. 违规编码"></a>4. 违规编码</h3>
      <p>用不符合规则的编码来界定帧</p>
<p>如：曼彻斯特编码使用“高-高”、“低-低”的编码充当开始和结束。</p>

        <h2 id="3-3-差错控制"   >
          <a href="#3-3-差错控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-差错控制" class="headerlink" title="3.3 差错控制"></a>3.3 差错控制</h2>
      
        <h3 id="3-3-1-检错编码"   >
          <a href="#3-3-1-检错编码" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-1-检错编码" class="headerlink" title="3.3.1 检错编码"></a>3.3.1 检错编码</h3>
      
        <h4 id="差错从何而来？"   >
          <a href="#差错从何而来？" class="heading-link"><i class="fas fa-link"></i></a><a href="#差错从何而来？" class="headerlink" title="差错从何而来？"></a>差错从何而来？</h4>
      <p>概括来说，传输中的差错都是由于噪声引起的。</p>
<ul>
<li><p>全局性：</p>
<ul>
<li>由于线路本身的电气特性所产生的**随机噪声(热噪声)**，是信道固有的，随机存在的。</li>
<li>解决办法：提高信噪比来减少或避免干扰(对传感器下手)。</li>
</ul>
</li>
<li><p>局部性：</p>
<ul>
<li>外界特定的端在原因造成的<strong>冲击噪声</strong>，是产生差错的主要原因。</li>
<li>解决办法：通常利用编码技术来解决。</li>
</ul>
</li>
<li><p>差错</p>
<ul>
<li>位错<ul>
<li>比特位出错，1变0，,变1.</li>
</ul>
</li>
<li>帧错<ul>
<li>丢失</li>
<li>重复</li>
<li>失序</li>
</ul>
</li>
</ul>
</li>
<li><p>差错控制(比特错)</p>
<ul>
<li>检错编码<ul>
<li>奇偶校验码</li>
<li>循环冗余码CRC</li>
</ul>
</li>
<li>纠错编码<ul>
<li>海明码</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>编码VS编码：物理链路层编码和物理层的数据编码与调制<strong>不同</strong>物理层编码针对的是<strong>单个比特</strong>，解决传输过程中比特的同步问题，如曼彻斯特编码，而数据链路层的编码针对的是<strong>一组比特</strong>，它通过冗余码的技术实现一组二进制比特串在传输过程是否出现差错。</p>
<p>冗余编码：在数据发送之前，先按某种关系<strong>附加</strong>上一定的<strong>冗余位</strong>，构成一个符合某一规则的码字后再发送。当然发送的有效数据变化时，相应的冗余位也随之变化，使码字遵从不变的规则。接收端根据收到码字是否仍符合原则，从而判断是否出错。</p>

        <h4 id="奇偶校验码"   >
          <a href="#奇偶校验码" class="heading-link"><i class="fas fa-link"></i></a><a href="#奇偶校验码" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h4>
      <ul>
<li>奇偶校验码<ul>
<li>奇校验码<ul>
<li>“1”的个数为<strong>奇数</strong>。</li>
<li>只能检查出<strong>奇数个比特错误</strong>，检错能力为50%。</li>
</ul>
</li>
<li>偶校验码<ul>
<li>“1”的个数为<strong>偶数</strong>。</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="CRC循环冗余码"   >
          <a href="#CRC循环冗余码" class="heading-link"><i class="fas fa-link"></i></a><a href="#CRC循环冗余码" class="headerlink" title="CRC循环冗余码"></a>CRC循环冗余码</h4>
      <p>我操这个数学运算的过程我没法记呀，看到这里就百度吧！</p>
<p>在数据链路层仅仅使用循环冗余检验CRC差错检测奇数，只能做到对帧的无差错接收，即“凡是接收端数据链路层接受的帧，我们都以非常接近于1的概率认为这些帧再传输过程中没有产生差错”。接收端丢弃的帧虽然曾收到了，但是最终还是因为有差错被丢弃。“凡是接收端数据链路层接收的帧均无差错”。</p>
<p>链路层使用CRC检验，能够实现无比特差错的传输，但这还不是可靠传输，因为有帧被丢弃了。</p>

        <h3 id="3-3-2-纠错编码"   >
          <a href="#3-3-2-纠错编码" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-2-纠错编码" class="headerlink" title="3.3.2 纠错编码"></a>3.3.2 纠错编码</h3>
      
        <h4 id="海明码"   >
          <a href="#海明码" class="heading-link"><i class="fas fa-link"></i></a><a href="#海明码" class="headerlink" title="海明码"></a>海明码</h4>
      <p>发现双比特错，纠正单比特错</p>
<p>工作原理：动一发而牵全身</p>
<p>工作流程：</p>
<ol>
<li>确定校验码位数r<ul>
<li>海明不等式<ul>
<li><code>2^r &gt;= k+r+1</code></li>
<li>r为冗余信息位，k为信息位</li>
</ul>
</li>
</ul>
</li>
<li>确定校验码和数据的位置<ul>
<li>各位校验码放置至2的n次方位置</li>
</ul>
</li>
<li>求出校验码的值<ul>
<li>从低位开始取，取所有相应低位为1的数据位的值进行异或</li>
<li>令所有要校验的为异或=0</li>
</ul>
</li>
<li>检错并纠正<ul>
<li>正向运算，将结果转成十进制就是出错的位数</li>
</ul>
</li>
</ol>

        <h2 id="3-4-流量控制与可靠传输机制"   >
          <a href="#3-4-流量控制与可靠传输机制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-流量控制与可靠传输机制" class="headerlink" title="3.4 流量控制与可靠传输机制"></a>3.4 流量控制与可靠传输机制</h2>
      
        <h3 id="3-4-1-流量控制与可靠传输机制"   >
          <a href="#3-4-1-流量控制与可靠传输机制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-1-流量控制与可靠传输机制" class="headerlink" title="3.4.1 流量控制与可靠传输机制"></a>3.4.1 流量控制与可靠传输机制</h3>
      
        <h4 id="数据链路层的流量控制"   >
          <a href="#数据链路层的流量控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据链路层的流量控制" class="headerlink" title="数据链路层的流量控制"></a>数据链路层的流量控制</h4>
      <p><strong>较高的发送速率</strong>和<strong>较低的接受能力</strong>不匹配，会造成传输出错，因此流量控制也是数据链路层的一项重要工作。</p>
<p>数据链路层的流量控制是点对点的，而传输层的流量控制是端到端的。</p>
<p>数据链路层流量控制手段：接收方收不下就不回复确认。</p>
<p>传输层流量控制手段：接收端给发送端一个窗口公告。</p>

        <h4 id="流量控制方法"   >
          <a href="#流量控制方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#流量控制方法" class="headerlink" title="流量控制方法"></a>流量控制方法</h4>
      <ol>
<li>停止-等待协议<ul>
<li>每发送完一个帧就停止发送，等待对方的确认，在收到确认后再发送下一个帧。</li>
<li>发送窗口大小=1，接收窗口大小=1</li>
</ul>
</li>
<li>滑动窗口协议<ol>
<li>后退N帧协议(GBN)<ul>
<li> 发送窗口&gt;=1，接收窗口&gt;=1</li>
</ul>
</li>
<li>选择重传协议(SR)<ul>
<li>发送窗口&gt;1，接收窗口&gt;1</li>
</ul>
</li>
</ol>
</li>
</ol>

        <h4 id="可靠传输、滑动窗口、流量控制"   >
          <a href="#可靠传输、滑动窗口、流量控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#可靠传输、滑动窗口、流量控制" class="headerlink" title="可靠传输、滑动窗口、流量控制"></a>可靠传输、滑动窗口、流量控制</h4>
      <p>可靠传输：发送端发啥，接收端收啥</p>
<p>流量控制：控制发送速率，使接收方有足够的缓冲空间来接收每一个帧</p>
<p>滑动窗口解决：</p>
<ul>
<li>流量控制<ul>
<li>收不下就不给确认，想发也发不了</li>
</ul>
</li>
<li>可靠传输<ul>
<li>发送方自动重传</li>
</ul>
</li>
</ul>

        <h3 id="3-4-2-停止等待协议"   >
          <a href="#3-4-2-停止等待协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-2-停止等待协议" class="headerlink" title="3.4.2 停止等待协议"></a>3.4.2 停止等待协议</h3>
      
        <h4 id="停止等待协议"   >
          <a href="#停止等待协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h4>
      <ol>
<li>为什么要有停止-等待协议<ul>
<li>除了比特出差错，底层通信还会出现丢包问题。</li>
<li>为了实现流量控制</li>
</ul>
</li>
<li>研究停等协议的前提<ul>
<li>虽然现在常用全双工通信方式，但为了讨论问题方便，仅考虑一方发送数据(发送方)，一方接收数据(接收方)。</li>
<li>因为是在讨论可靠传输的原理，所以并不考虑数据是在哪一个层次上传送的。</li>
<li>“停止-等待”就是每发送完一个分组就停止发送，等待对方确认，在收到确认后再发送下一个分组。</li>
</ul>
</li>
<li>停等协议有几种应用情况？<ul>
<li>无差错</li>
<li>有差错</li>
</ul>
</li>
</ol>

        <h4 id="无差错情况"   >
          <a href="#无差错情况" class="heading-link"><i class="fas fa-link"></i></a><a href="#无差错情况" class="headerlink" title="无差错情况"></a>无差错情况</h4>
      <ol>
<li>数据帧丢失或检测到帧出错<ul>
<li>超时计时器：每次发送一个帧就启动一个计时器。</li>
<li>超时计时器设置的重传时间应当比帧传输的平均RTT更长一些。</li>
<li>发送完一个帧后，必须保留它的副本。</li>
<li>数据帧和确认帧必须编号。</li>
</ul>
</li>
</ol>

        <h4 id="有差错情况"   >
          <a href="#有差错情况" class="heading-link"><i class="fas fa-link"></i></a><a href="#有差错情况" class="headerlink" title="有差错情况"></a>有差错情况</h4>
      <ol>
<li>ACK丢失<ul>
<li>超时计时器到时重传，接收方丢弃重复的帧再次发送确认帧</li>
</ul>
</li>
<li>ACK迟到<ul>
<li>丢弃迟到的确认帧</li>
</ul>
</li>
</ol>

        <h4 id="停等协议性能分析"   >
          <a href="#停等协议性能分析" class="heading-link"><i class="fas fa-link"></i></a><a href="#停等协议性能分析" class="headerlink" title="停等协议性能分析"></a>停等协议性能分析</h4>
      <ol>
<li>简单</li>
<li>信道利用率太低</li>
<li><code>信道利用率U = Td / (Td + RTT + Ta)</code></li>
</ol>

        <h4 id="信道利用率"   >
          <a href="#信道利用率" class="heading-link"><i class="fas fa-link"></i></a><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h4>
      <p>发送方在一个发送周期内，有效的发送数据所需要的时间占整个发送周期的比率。</p>
<p>信道利用率 = (L/C)/T</p>
<ul>
<li>L：T内发送L比特数据</li>
<li>C：发送方数据传输率</li>
<li>T：发送周期(从开始发送数据，到手刀第一个确认帧为止)</li>
</ul>
<p>信道吞吐率 = 信道利用率 * 发送方的发送速率</p>

        <h3 id="3-4-3-选择重传协议-SR"   >
          <a href="#3-4-3-选择重传协议-SR" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-3-选择重传协议-SR" class="headerlink" title="3.4.3 选择重传协议(SR)"></a>3.4.3 选择重传协议(SR)</h3>
      
        <h4 id="GBN协议的弊端"   >
          <a href="#GBN协议的弊端" class="heading-link"><i class="fas fa-link"></i></a><a href="#GBN协议的弊端" class="headerlink" title="GBN协议的弊端"></a>GBN协议的弊端</h4>
      <ul>
<li>累积确认导致批量重传</li>
</ul>
<p>解决办法：设置单个确认，同时加大接收窗口，设置接收缓存，缓存乱序到达的帧。</p>

        <h4 id="选择重传协议中的滑动窗口"   >
          <a href="#选择重传协议中的滑动窗口" class="heading-link"><i class="fas fa-link"></i></a><a href="#选择重传协议中的滑动窗口" class="headerlink" title="选择重传协议中的滑动窗口"></a>选择重传协议中的滑动窗口</h4>
      
        <h4 id="SR发送方必须响应的三件事"   >
          <a href="#SR发送方必须响应的三件事" class="heading-link"><i class="fas fa-link"></i></a><a href="#SR发送方必须响应的三件事" class="headerlink" title="SR发送方必须响应的三件事"></a>SR发送方必须响应的三件事</h4>
      <ol>
<li>上层的调用<ul>
<li>从上层收到数据后，SR发送方检查下一个可用于该帧的序号，如果序号位于发送窗口内，则发送数据帧；否则就像GBN一样，要么将数据<strong>缓存</strong>，要么<strong>返回给上层</strong>之后再传输。</li>
</ul>
</li>
<li>收到了一个ACK<ul>
<li>如果收到ACK，加入该帧序号在窗口内，则SR发送方将那个被确认的帧标记为已接收。如果该帧序号是窗口的下界，则窗口向前移动到具有最小序号的未确认帧出。如果窗口移动了并且有序号在窗口内的未发送帧，则发送这些帧。</li>
</ul>
</li>
<li>超时事件<ul>
<li>每个帧都有自己的定时器，一个超时事件发生后<strong>只重传一个帧</strong>。</li>
</ul>
</li>
</ol>

        <h4 id="SR接收方要做的事"   >
          <a href="#SR接收方要做的事" class="heading-link"><i class="fas fa-link"></i></a><a href="#SR接收方要做的事" class="headerlink" title="SR接收方要做的事"></a>SR接收方要做的事</h4>
      <p>来者不拒：SR接收方将确认一个正确接收的帧而不管其是否按序。失序的帧将被缓存，并返回给发送方一个该帧的确认帧【收谁确认谁】，知道所有帧(即序号更小的帧)皆被收到为止，这时才可以将一批帧按序交付给上层，然后<strong>向前移动滑动窗口</strong>。</p>

        <h4 id="滑动窗口长度"   >
          <a href="#滑动窗口长度" class="heading-link"><i class="fas fa-link"></i></a><a href="#滑动窗口长度" class="headerlink" title="滑动窗口长度"></a>滑动窗口长度</h4>
      <p>接收方不知道同一个0帧是下一个新帧还是重发的旧帧</p>
<p>发送窗口最好等于接收窗口。(大了会溢出，小了没意义)</p>
<ul>
<li>GBN协议中，滑动窗口的最大值是编号数量减一</li>
<li>SR协议中，滑动窗口的最大值是编号数量的一半</li>
</ul>

        <h4 id="SR协议重点总结"   >
          <a href="#SR协议重点总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#SR协议重点总结" class="headerlink" title="SR协议重点总结"></a>SR协议重点总结</h4>
      <ol>
<li>对数据帧逐一确认，收一个确认一个</li>
<li>只重传出错帧</li>
<li>接收方有缓存</li>
<li><code>Wtmax = Wrmax = 2^(n-1)</code></li>
</ol>

        <h3 id="3-4-4-后退N帧协议-GBN"   >
          <a href="#3-4-4-后退N帧协议-GBN" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-4-后退N帧协议-GBN" class="headerlink" title="3.4.4 后退N帧协议(GBN)"></a>3.4.4 后退N帧协议(GBN)</h3>
      <p>流水线技术</p>
<ol>
<li>必须增加序号范围</li>
<li>发送方需要缓存多个分组</li>
</ol>

        <h4 id="后退N帧协议中的滑动窗口"   >
          <a href="#后退N帧协议中的滑动窗口" class="heading-link"><i class="fas fa-link"></i></a><a href="#后退N帧协议中的滑动窗口" class="headerlink" title="后退N帧协议中的滑动窗口"></a>后退N帧协议中的滑动窗口</h4>
      <p>发送窗口：发送方维持一组连续的允许发送的帧的序号。</p>
<p>接收窗口：接收方维持一组连续的允许接收帧的序号</p>

        <h4 id="GBN发送方必须相应的三件事"   >
          <a href="#GBN发送方必须相应的三件事" class="heading-link"><i class="fas fa-link"></i></a><a href="#GBN发送方必须相应的三件事" class="headerlink" title="GBN发送方必须相应的三件事"></a>GBN发送方必须相应的三件事</h4>
      <ol>
<li>上层的调用<ul>
<li>上层要发送数据时，发送方先检查发送窗口是否已满，如果<strong>未满</strong>，则产生一个帧并将其发送；如果<strong>窗口已满</strong>，发送方只需要将数据返回给上层，暗示上层窗口已满。上层等一会再发送。(实际实现中，发送方可以缓存这些数据，窗口不满时再发送帧)。</li>
</ul>
</li>
<li>收到了一个ACK<ul>
<li>GBN协议中，对n号帧的确认采用<strong>累积确认</strong>的方式，标明接收方已经收到n号帧和它之前的全部帧。</li>
</ul>
</li>
<li>超时事件<ul>
<li>协议的名字为后退N帧/回退N帧，来源于出现丢失和时延过长帧时发送方的行为。就像在等协议中一样，定时器将再次用于恢复数据帧或确认帧的丢失。如果出现超时，发送方重传所有已发送但未被确认的帧。</li>
</ul>
</li>
</ol>

        <h4 id="GBN接收方要做的事"   >
          <a href="#GBN接收方要做的事" class="heading-link"><i class="fas fa-link"></i></a><a href="#GBN接收方要做的事" class="headerlink" title="GBN接收方要做的事"></a>GBN接收方要做的事</h4>
      <p>如果正确收到n号帧，并且按序，那么接收方为n帧发送一个ACK，并将该帧中的数据部分交付给上层。<br>其余情况都丢弃帧，并为最近按序接收的帧重新发送ACK。接收方无需缓存任何失序帧，只需要维护一个信息:expectedseqnum(下一个按序接收的帧序号)</p>

        <h4 id="滑动窗口长度-1"   >
          <a href="#滑动窗口长度-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#滑动窗口长度-1" class="headerlink" title="滑动窗口长度"></a>滑动窗口长度</h4>
      <p>若采用n个比特对帧编号，那么发送窗口的尺寸Wt应满足<code>1 &lt;= Wt &lt;= 2^(n-1)</code>。因为发送窗口尺寸过大，就会使得接收方无法区别新帧和旧帧。</p>

        <h4 id="GBN协议重点总结"   >
          <a href="#GBN协议重点总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#GBN协议重点总结" class="headerlink" title="GBN协议重点总结"></a>GBN协议重点总结</h4>
      <ol>
<li>累积确认(偶尔捎带确认)</li>
<li>接收方值按顺序接收帧，不按序无情丢弃</li>
<li>确认序列号最大的、按序到达的帧</li>
<li>发送窗口最大为<code>2^(n-1)，接收窗口大小为1</code></li>
</ol>

        <h2 id="3-5-介质访问控制"   >
          <a href="#3-5-介质访问控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-介质访问控制" class="headerlink" title="3.5 介质访问控制"></a>3.5 介质访问控制</h2>
      
        <h3 id="3-5-1-信道划分介质访问控制"   >
          <a href="#3-5-1-信道划分介质访问控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-1-信道划分介质访问控制" class="headerlink" title="3.5.1 信道划分介质访问控制"></a>3.5.1 信道划分介质访问控制</h3>
      
        <h4 id="传输数据使用的两种链路"   >
          <a href="#传输数据使用的两种链路" class="heading-link"><i class="fas fa-link"></i></a><a href="#传输数据使用的两种链路" class="headerlink" title="传输数据使用的两种链路"></a>传输数据使用的两种链路</h4>
      <ul>
<li>点对点链路<ul>
<li>两个相邻节点通过一个链路相连，没有第三者。</li>
</ul>
</li>
<li>广播式链路<ul>
<li>所有主机共享通信介质。</li>
</ul>
</li>
</ul>

        <h4 id="介质访问控制"   >
          <a href="#介质访问控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#介质访问控制" class="headerlink" title="介质访问控制"></a>介质访问控制</h4>
      <p>介质访问控制的内容就是，采取一定的措施，使得两对节点之间的通信不会发生相互干扰的情况。</p>
<ul>
<li>静态划分信道——信道划分介质访问控制<ul>
<li>频分多路复用FDM</li>
<li>时分多路复用TDM</li>
<li>波分多路复用WDM</li>
<li>码分多路复用CDM</li>
</ul>
</li>
<li>动态分配信道<ul>
<li>轮询访问介质控制<ul>
<li>令牌传递协议</li>
</ul>
</li>
<li>随机访问介质访问控制<ul>
<li>ALOHA协议</li>
<li>CSMA协议</li>
<li>CSMA/CD协议</li>
<li>CSMA/CA协议</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="信道划分介质访问控制"   >
          <a href="#信道划分介质访问控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#信道划分介质访问控制" class="headerlink" title="信道划分介质访问控制"></a>信道划分介质访问控制</h4>
      <p>信道划分介质访问控制：将使用介质的每个设备与来自同一信道上的其他设备的<strong>通信隔离开</strong>，把<strong>时域和频域资源</strong>合理地分配给网络上的设备。</p>
<p>多路复用技术：把多个信号组合在一条物理信道上进行传输，使得多个计算机或终端设备<strong>共享信道资源</strong>，提高信道利用率。</p>
<p>把一条广播信道，逻辑上分成几条用于两个节点之间通信的互不干扰的子信道，<strong>实际就是把广播信道转变为点对点通信</strong>。</p>

        <h4 id="频分多路复用FDM"   >
          <a href="#频分多路复用FDM" class="heading-link"><i class="fas fa-link"></i></a><a href="#频分多路复用FDM" class="headerlink" title="频分多路复用FDM"></a>频分多路复用FDM</h4>
      <p>用户分配到一定的频带后，在通信过程中自始至终都占用这个频带。<strong>频分复用的所有用户在同样的时间占用不同的带宽(频率带宽)资源</strong>。 </p>
<p>充分利用传输介质带宽，系统<strong>效率较高</strong>；由于技术比较成熟，实现也比较<strong>容易</strong>。</p>

        <h4 id="时分多路复用TDM"   >
          <a href="#时分多路复用TDM" class="heading-link"><i class="fas fa-link"></i></a><a href="#时分多路复用TDM" class="headerlink" title="时分多路复用TDM"></a>时分多路复用TDM</h4>
      <p>将时间划分为一段段等长的时分复用帧(TDM帧)。每一个时分复用的用户在每一个TDM帧中占用<strong>固定序号的时隙</strong>，所有用户轮流占用信道。</p>
<p>TDM帧是在物理层传送的比特流所划分的帧，标志一个周期。</p>
<ul>
<li>频分复用——并行</li>
<li>时分复用——并发</li>
</ul>

        <h4 id="统计时分多路复用STDM"   >
          <a href="#统计时分多路复用STDM" class="heading-link"><i class="fas fa-link"></i></a><a href="#统计时分多路复用STDM" class="headerlink" title="统计时分多路复用STDM"></a>统计时分多路复用STDM</h4>
      <p>每一个STDM帧中的时隙数小于连接在集中器上的用户数。各用户有了数据就随时发往集中器的<strong>输入缓存</strong>，然后集中器按顺序依次扫描输入缓存，吧缓存中的输入数据放入STDM帧中，一个STDM帧满了就发出。STDM帧不是固定分配时隙，而是按需动态分配时隙。</p>

        <h4 id="波分多路复用WDM"   >
          <a href="#波分多路复用WDM" class="heading-link"><i class="fas fa-link"></i></a><a href="#波分多路复用WDM" class="headerlink" title="波分多路复用WDM"></a>波分多路复用WDM</h4>
      <p>波分多路复用就是<strong>光的频分多路复用</strong>，在一根光纤中传输多种不同波长(频率)的光信号，由于波长(频率)不同，所以各路光信号互不干扰，最后再用波长分解复用器将各路波长分解出来。</p>

        <h4 id="码分多路复用CDM"   >
          <a href="#码分多路复用CDM" class="heading-link"><i class="fas fa-link"></i></a><a href="#码分多路复用CDM" class="headerlink" title="码分多路复用CDM"></a>码分多路复用CDM</h4>
      <ul>
<li>码分多址CDMA<ul>
<li>是码分复用的一种方式<ul>
<li>1个比特分为多个码片/芯片，每一个站点被指定一个唯一的m位的芯片序列。</li>
<li>发送1时站点发送芯片序列，发送0时发送芯片序列反码(通常把0写成-1)</li>
<li>如何不打架：多个站点同时发送数据时，要求各个站点芯片序列相互正交</li>
<li>如何合并：各路数据在信道中被线性相加</li>
<li>如何分离：合并的数据和源站规格化内积</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>利用了正交的向量内积为0，向量和本身内积为模的特征</p>

        <h3 id="3-5-2-ALOHA协议"   >
          <a href="#3-5-2-ALOHA协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-2-ALOHA协议" class="headerlink" title="3.5.2 ALOHA协议"></a>3.5.2 ALOHA协议</h3>
      <p>动态分配信道——动态媒体接入控制/多点接入</p>
<p>特点：信道并非在用户通信时固定分配给用户</p>
<p>所有用户可随机发送信息</p>
<p>发送信息时占<strong>全部带宽</strong></p>
<ul>
<li>纯ALOHA协议<ul>
<li>不监听信道，不按时间槽发送，随机重发。</li>
<li>如果发生冲突，接收方在就会检测出差错，然后不予确认，发送方在一定时间内收不到就判断发生冲突。</li>
<li>超时后等一随机时间再重传</li>
</ul>
</li>
<li>时隙ALOHA协议<ul>
<li>把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信息，若发生冲突，则必须等到下一个时间片开始时刻再发送。</li>
</ul>
</li>
</ul>
<ol>
<li>纯ALOHA比时隙ALOHA吞吐量更低，效率更低</li>
<li>纯ALOHA想发就发，时隙ALOHA只有在时间片段开始时才能发。</li>
</ol>

        <h3 id="3-5-3-CSMA协议"   >
          <a href="#3-5-3-CSMA协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-3-CSMA协议" class="headerlink" title="3.5.3 CSMA协议"></a>3.5.3 CSMA协议</h3>
      <p>载波监听多路访问协议CSMA(carrier sence multiple access)</p>
<p>CS：载波侦听/监听，每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。</p>
<p>当几个站同时在总线上发送数据时，总线上的信号<strong>电压摆动值</strong>将会增大(互相叠加)。当一个站检测到的信号电压摆动值超过一定门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞，即发生了冲突。</p>
<p>MA：多点接入：表示许多计算机以多点接入的方式连接在一根总线上。</p>
<p>协议思想：发送之前，监听信道</p>
<ul>
<li>监听结果<ul>
<li>信道空闲：发送完整帧<ul>
<li>1-坚持CSMA</li>
<li>非坚持CSMA</li>
<li>p-坚持CSMA</li>
</ul>
</li>
<li>信道忙：推迟发送</li>
</ul>
</li>
</ul>

        <h4 id="1-坚持CSMA"   >
          <a href="#1-坚持CSMA" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-坚持CSMA" class="headerlink" title="1-坚持CSMA"></a>1-坚持CSMA</h4>
      <p>坚持指的是对于监听信道忙之后的坚持。</p>
<p>1-坚持CSMA思想：如果一个主机要发送消息，那么它先监听信道。空闲则直接传输，不必等待。忙则一直监听，直到空闲马上传输。如果有冲突(一段时间未收到肯定回复)，则等待一个随机长的时间再监听，重复上述过程。</p>
<p>优点：只要媒体空闲，站点就马上发送，避免了媒体利用率的损失。</p>
<p>缺点：假如有两个或两个以上的站点有数据要发送，冲突就不可避免。</p>

        <h4 id="非坚持CSMA"   >
          <a href="#非坚持CSMA" class="heading-link"><i class="fas fa-link"></i></a><a href="#非坚持CSMA" class="headerlink" title="非坚持CSMA"></a>非坚持CSMA</h4>
      <p>非坚持指的是监听信道忙之后就不继续监听。</p>
<p>非坚持CSMA思想：如果一个主机要发送消息，那么它先监听信道。</p>
<p>空闲则直接传输，不必等待</p>
<p>忙则等待一个随机的时间之后再进行监听发</p>
<p>优点：采用随机的重发延时时间可以减少冲突发生的可能性。</p>
<p>缺点：可能存在大家都在延迟等待过程中，使得媒体仍可能处于空闲状态，媒体使用率降低。</p>

        <h4 id="p-坚持CSMA"   >
          <a href="#p-坚持CSMA" class="heading-link"><i class="fas fa-link"></i></a><a href="#p-坚持CSMA" class="headerlink" title="p-坚持CSMA"></a>p-坚持CSMA</h4>
      <p>p-坚持指的是对于监听信道空闲的处理。</p>
<p>思想：如果一个主机要发送消息，那么它先监听信道。</p>
<p>空闲则以p概率直接传输，不必等待；概率1-p等待到下一个时间槽在传输。</p>
<p>忙则等待一个随机的时间之后再进行监听。</p>
<p>优点：既能像非坚持算法那样减小冲突，又能像1-坚持算法那样减小媒体空闲时间的这种方案。</p>
<p>缺点：发生冲突后还是要坚持把数据帧发送完，造成了浪费。</p>

        <h3 id="3-5-4-轮询访问介质访问控制"   >
          <a href="#3-5-4-轮询访问介质访问控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-4-轮询访问介质访问控制" class="headerlink" title="3.5.4 轮询访问介质访问控制"></a>3.5.4 轮询访问介质访问控制</h3>
      <ul>
<li>介质访问控制：<ul>
<li>信道划分介质访问控制(MAC)协议：<ul>
<li>基于多路复用技术划分资源。</li>
<li>网络负载重：共享信道效率高，且公平</li>
<li>网络负载轻：共享信道效率低</li>
</ul>
</li>
</ul>
</li>
<li>随机访问MAC协议：<ul>
<li>用户根据意愿随机发送信息，发送信息时可独占信道带宽</li>
<li>网络负载重：产生冲突开销</li>
<li>网络负载轻：共享信道效率高，单个结点可利用信道全部带宽</li>
</ul>
</li>
<li>轮询访问MAC协议/轮流协议/轮转访问MAC协议：<ul>
<li>既要不产生冲突，又要发送时<strong>占全部带宽</strong>。</li>
<li>轮训协议</li>
<li>令牌传递协议</li>
</ul>
</li>
</ul>

        <h4 id="轮询协议"   >
          <a href="#轮询协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#轮询协议" class="headerlink" title="轮询协议"></a>轮询协议</h4>
      <p>主节点轮流“邀请”从属结点发送数据.</p>
<ul>
<li>问题:<ul>
<li>轮询开销</li>
<li>等待延迟</li>
<li>单点故障</li>
</ul>
</li>
</ul>

        <h4 id="令牌传递协议"   >
          <a href="#令牌传递协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#令牌传递协议" class="headerlink" title="令牌传递协议"></a>令牌传递协议</h4>
      <p>令牌环网</p>
<p>TCU转发器</p>
<p>令牌:一个特殊格式的MAC控制帧,不含任何信息。</p>
<p>控制信道的使用,确保同一时刻只有一个结点独占信道。</p>
<p>令牌环网无碰撞。</p>
<p>每个结点都可以在一定的时间内(令牌持有时间)获得发送数据的权利，并不是无限制地持有令牌，</p>
<ul>
<li>问题：<ul>
<li>令牌开销</li>
<li>等待延迟</li>
<li>单点故障</li>
</ul>
</li>
</ul>
<p>采用令牌传送方式的网络常用于<strong>负载较重、通信量较大</strong>的网络中。</p>

        <h3 id="3-5-5-CSMA-CA协议"   >
          <a href="#3-5-5-CSMA-CA协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-5-CSMA-CA协议" class="headerlink" title="3.5.5 CSMA-CA协议"></a>3.5.5 CSMA-CA协议</h3>
      <ul>
<li>CSMA-CD是对碰撞的检测<ul>
<li>使用在总线式以太网</li>
</ul>
</li>
<li>CSMA-CA是对碰撞的避免<ul>
<li>使用在无线局域网</li>
</ul>
</li>
</ul>

        <h4 id="CSMA-CA协议工作原理"   >
          <a href="#CSMA-CA协议工作原理" class="heading-link"><i class="fas fa-link"></i></a><a href="#CSMA-CA协议工作原理" class="headerlink" title="CSMA/CA协议工作原理"></a>CSMA/CA协议工作原理</h4>
      <p>名称：载波监听多点接入/碰撞避免</p>
<p>发送数据前，先检测信道是否空闲</p>
<p>空闲则发出**RTS(request to send)**，RTS包括发射端的地址、接收端的地址、下一份数据将持续发送的时间等信息；信道忙则等待。</p>
<p>接收端收到RTS后，将响应**CTS(clear to send)**。</p>
<p>发送端收到CTS后，开始发送数据帧(同时<strong>预约信道</strong>：发送方告知其他站点自己要传多久数据)。</p>
<p>接收端收到数据帧后，将用CRC来检验数据是否正确，正确则响应<strong>ACK帧</strong>。</p>
<p>发送方收到ACK就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止(采用<strong>二进制指数退避算法</strong>来确定随机的推迟时间)。</p>
<ul>
<li>基本方法：<ul>
<li>预约信道</li>
<li>ACK帧</li>
<li>RTS/CTS帧(可选)</li>
</ul>
</li>
</ul>

        <h4 id="CSMA-CD与CSMA-CA"   >
          <a href="#CSMA-CD与CSMA-CA" class="heading-link"><i class="fas fa-link"></i></a><a href="#CSMA-CD与CSMA-CA" class="headerlink" title="CSMA/CD与CSMA/CA"></a>CSMA/CD与CSMA/CA</h4>
      <ul>
<li>相同点<ul>
<li>都需要先监听</li>
</ul>
</li>
<li>不同点<ul>
<li>传输介质不同</li>
<li>载波检测方式不同</li>
<li>目的不同</li>
</ul>
</li>
</ul>

        <h2 id="3-6-局域网"   >
          <a href="#3-6-局域网" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-6-局域网" class="headerlink" title="3.6 局域网"></a>3.6 局域网</h2>
      
        <h3 id="3-6-1-局域网基本概念和体系结构"   >
          <a href="#3-6-1-局域网基本概念和体系结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-6-1-局域网基本概念和体系结构" class="headerlink" title="3.6.1 局域网基本概念和体系结构"></a>3.6.1 局域网基本概念和体系结构</h3>
      
        <h4 id="局域网"   >
          <a href="#局域网" class="heading-link"><i class="fas fa-link"></i></a><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h4>
      <p>简称LAN，是指在某一区域内由多态计算机互联成的计算机组，使用<strong>广播信道</strong>。</p>
<ul>
<li>特点：<ul>
<li>覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一坐或集中的建筑群内</li>
<li>使用专门铺设的传输介质(双绞线、同轴电缆)进行联网，数据传输速率高(10Mb/s~10Gb/s)。</li>
<li>通信延迟时间短。误码率低，可靠性较高。</li>
<li>各站为平等关系，共享传输信道。</li>
<li>多采用分布式控制和广播式通信，能够进行广播和组播。</li>
</ul>
</li>
</ul>
<p>决定局域网的主要要素为：网络拓扑，传输介质与介质访问控制方法。</p>

        <h4 id="局域网拓扑结构"   >
          <a href="#局域网拓扑结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#局域网拓扑结构" class="headerlink" title="局域网拓扑结构"></a>局域网拓扑结构</h4>
      <ul>
<li>星型拓扑</li>
<li>总线型拓扑</li>
<li>环型拓扑</li>
<li>树型拓扑</li>
</ul>

        <h4 id="局域网传输介质"   >
          <a href="#局域网传输介质" class="heading-link"><i class="fas fa-link"></i></a><a href="#局域网传输介质" class="headerlink" title="局域网传输介质"></a>局域网传输介质</h4>
      <ul>
<li>有线局域网<ul>
<li>双绞线</li>
<li>同轴电缆</li>
<li>光纤</li>
</ul>
</li>
<li>无线局域网<ul>
<li>电磁波</li>
<li>微博</li>
<li>激光</li>
</ul>
</li>
</ul>

        <h4 id="局域网介质访问控制方法"   >
          <a href="#局域网介质访问控制方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#局域网介质访问控制方法" class="headerlink" title="局域网介质访问控制方法"></a>局域网介质访问控制方法</h4>
      <ol>
<li>CSMA/CD<ul>
<li> 常用于<strong>总线型局域网</strong>，也用于树型网络</li>
</ul>
</li>
<li>令牌总线<ul>
<li>常用于<strong>总线型局域网</strong>，也用于树型网络</li>
<li>逻辑环</li>
</ul>
</li>
<li>令牌环<ul>
<li>用于环形局域网</li>
<li>物理拓扑可能是星型的</li>
</ul>
</li>
</ol>

        <h4 id="局域网的分类"   >
          <a href="#局域网的分类" class="heading-link"><i class="fas fa-link"></i></a><a href="#局域网的分类" class="headerlink" title="局域网的分类"></a>局域网的分类</h4>
      <ol>
<li>以太网<ul>
<li>以太网是应用最为广泛的局域网，包括标准以太网(10Mbps)、快速以太网(100Mbps)、千兆以太网(1000Mbps)和10G以太网，它们都符合IEEE802.3系列标准规范。逻辑拓扑总线型，物理拓扑是星型或拓展星型。使用CSMA/CD</li>
</ul>
</li>
<li>令牌环网<ul>
<li>物理上采用了星形拓扑结构，逻辑上是环形拓扑结构。</li>
</ul>
</li>
<li>FDDI网<ul>
<li>物理上采用了双环拓扑结构，逻辑上是环形拓扑结构。</li>
</ul>
</li>
<li>ATM网<ul>
<li>较新型的单元交换技术，使用53字节固定长度的单元进行交换。</li>
</ul>
</li>
<li>无线局域网<ul>
<li>采用IEEE 802.11标准</li>
</ul>
</li>
</ol>

        <h4 id="IEEE-802标准"   >
          <a href="#IEEE-802标准" class="heading-link"><i class="fas fa-link"></i></a><a href="#IEEE-802标准" class="headerlink" title="IEEE 802标准"></a>IEEE 802标准</h4>
      <ul>
<li>IEEE 802.3-以太网介质访问控制协议及物理层技术规范</li>
<li>IEEE 802.5-令牌环网的介质访问控制协议及物理层技术规范</li>
<li>IEEE 802.8-光纤技术咨询组，提供有关光纤联网的技术咨询</li>
<li>IEEE 802.11-无线局域网的介质访问控制协议及物理层技术规范</li>
</ul>

        <h4 id="MAC子层和LLC子层"   >
          <a href="#MAC子层和LLC子层" class="heading-link"><i class="fas fa-link"></i></a><a href="#MAC子层和LLC子层" class="headerlink" title="MAC子层和LLC子层"></a>MAC子层和LLC子层</h4>
      <p>IEEE 802标准所描述的局域网参考模型只对应OSI参考模型的<strong>数据链路层与物理层</strong>，它将数据链路层划分为逻辑链路层LLC子层和介质访问控制MAC层。</p>
<p>LLC负责识别网络层协议，然后对他们进行封装。LLC报头告诉数据链路层一旦帧被接收到时，应当对数据包做何处理。为网络层提供服务：无确认无连接、面向连接、带确认无连接、高速传输。</p>
<p>MAC子层的主要功能包括数据帧的封装/卸装，帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。MAC子层的存在屏蔽了不同物理链路种类的差异性。</p>

        <h3 id="3-6-2-以太网"   >
          <a href="#3-6-2-以太网" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-6-2-以太网" class="headerlink" title="3.6.2 以太网"></a>3.6.2 以太网</h3>
      
        <h4 id="以太网概述"   >
          <a href="#以太网概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网概述" class="headerlink" title="以太网概述"></a>以太网概述</h4>
      <p>以太网指的是由Xerox公司创建并由Xerox、Intel和DEC公司联合开发的<strong>基带总线局域网规范</strong>，是当今现有局域网采用的最通用的通信协议标准。以太网使用<strong>CSMA/CD</strong>(载波监听多路访问及冲突检测)技术。</p>
<ul>
<li>以太网在局域网各种技术中占<strong>统治性</strong>低位：</li>
</ul>
<ol>
<li>造价低廉(以太网网卡不到100块)；</li>
<li>是应用最广泛的局域网技术；</li>
<li>比令牌环网、ATM网便宜，简单；</li>
<li>满足网络速率要求：10Mb/s-10Hb/s</li>
</ol>

        <h4 id="以太网两个标准"   >
          <a href="#以太网两个标准" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网两个标准" class="headerlink" title="以太网两个标准"></a>以太网两个标准</h4>
      <p>DIX Ethernet V2：第一个局域网产品(以太网)规约。</p>
<p>IEEE 802.3：IEEE 802委员会802.3工作组制定的第一个IEEE的以太网标准。(帧格式有一丢丢改动)</p>

        <h4 id="以太网提供无连接、不可靠的服务"   >
          <a href="#以太网提供无连接、不可靠的服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网提供无连接、不可靠的服务" class="headerlink" title="以太网提供无连接、不可靠的服务"></a>以太网提供无连接、不可靠的服务</h4>
      <ul>
<li>无连接：发送方和接收方之间无“握手过程”。</li>
<li>不可靠：不对发送方的数据帧<strong>编号</strong>，接收方不向发送方进行<strong>确认</strong>，差错帧直接丢弃，差错纠正由高层负责。</li>
</ul>
<p>以太网只实现无差错接收，不实现可靠传输。</p>

        <h4 id="以太网传输介质与拓扑结构的发展"   >
          <a href="#以太网传输介质与拓扑结构的发展" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网传输介质与拓扑结构的发展" class="headerlink" title="以太网传输介质与拓扑结构的发展"></a>以太网传输介质与拓扑结构的发展</h4>
      <p>粗同轴电缆-&gt;细同轴电缆-&gt;双绞线+集线器</p>
<p>总线型-&gt;集线器星型</p>
<p>使用集线器的以太网在逻辑上仍是一个总线网，各站共享逻辑上的总线，使用的还是CSMA/CD协议。</p>
<p>以太网拓扑：逻辑上总线型，物理上星型。</p>

        <h4 id="10BASE-T以太网"   >
          <a href="#10BASE-T以太网" class="heading-link"><i class="fas fa-link"></i></a><a href="#10BASE-T以太网" class="headerlink" title="10BASE-T以太网"></a>10BASE-T以太网</h4>
      <p>10BASE-T是传送<strong>基带信号</strong>的双绞线以太网，T表示采用双绞线，现10BASE-T采用的是<strong>无屏蔽双绞线</strong>(UTP)，传输速率是10Mb/s。</p>
<p>物理上采用星型结构，逻辑上总线型，每段双绞线最长为1000m。</p>
<p>采用曼彻斯特编码。</p>
<p>采用CSMA/CD介质介质访问控制。</p>

        <h4 id="适配器与MAC地址"   >
          <a href="#适配器与MAC地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#适配器与MAC地址" class="headerlink" title="适配器与MAC地址"></a>适配器与MAC地址</h4>
      <p>计算机与外界有局域网的连接是通过<strong>通信适配器</strong>的。</p>
<ul>
<li>网络接口板</li>
<li>网络接口卡NIC(Network Interface Card)</li>
<li>现在，不再使用单独网卡。</li>
<li>适配器上装有处理器和存储器(包括RAM和ROM)</li>
<li>ROM上有计算机硬件地址<strong>MAC地址</strong>。</li>
</ul>
<p>在局域网中，硬件地址又称为物理地址，或MAC地址。【实际上是标识符】</p>
<p>MAC地址：每个适配器有一个全球唯一的48位二进制地址，前24位代表厂家(由IEEE规定)，后24位厂家自己指定。常用6个十六进制数表示，如02-60-8c-e4-b1-21.</p>
<p>可以通过MAC地址查生产厂商，可以用来鉴别苹果是不是正品。</p>

        <h4 id="以太网MAC帧"   >
          <a href="#以太网MAC帧" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网MAC帧" class="headerlink" title="以太网MAC帧"></a>以太网MAC帧</h4>
      <p>最常用的MAC帧是以太网V2的格式</p>
<p>数据的范围是46-1500字节。</p>
<ul>
<li>与IEEE 802.3的区别：<ol>
<li>第三个字段时长度/类型</li>
<li>当长度/类型字段值小于0x0600时，数据字段必须装入LLC子层。</li>
</ol>
</li>
</ul>

        <h4 id="高速以太网"   >
          <a href="#高速以太网" class="heading-link"><i class="fas fa-link"></i></a><a href="#高速以太网" class="headerlink" title="高速以太网"></a>高速以太网</h4>
      <p>速率&gt;=100Mb/s的以太网称为高速以太网。</p>
<ol>
<li>100BASE-T以太网<ul>
<li>在双绞线上传送100Mb/s<strong>基带信号</strong>的<strong>星型</strong>拓扑以太网，仍使用IEEE802.3的<strong>CSMA/CD</strong>协议。支持<strong>全双工</strong>和<strong>半双工</strong>，可以在全双工方式下工作而无冲突。</li>
</ul>
</li>
<li>吉比特以太网<ul>
<li>在<strong>光纤或双绞线</strong>上传送<strong>1Gb/s信号</strong>。</li>
<li>支持<strong>全双工</strong>和<strong>半双工</strong>，可在全双工方式下工作而无冲突。</li>
</ul>
</li>
<li>10吉比特<ul>
<li>10吉比特以太网在<strong>光纤</strong>上传送10Gb/s信号。</li>
<li>只支持<strong>全双工</strong>，无争用问题。</li>
</ul>
</li>
</ol>

        <h3 id="3-6-3-无线局域网"   >
          <a href="#3-6-3-无线局域网" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-6-3-无线局域网" class="headerlink" title="3.6.3 无线局域网"></a>3.6.3 无线局域网</h3>
      
        <h4 id="IEEE-802-11"   >
          <a href="#IEEE-802-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#IEEE-802-11" class="headerlink" title="IEEE 802.11"></a>IEEE 802.11</h4>
      <p>IEEE802.11是<strong>无线局域网</strong>通用的标准，它是由IEEE所定义的无线网络通信的标准</p>

        <h4 id="802-11的MAC帧头格式"   >
          <a href="#802-11的MAC帧头格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#802-11的MAC帧头格式" class="headerlink" title="802.11的MAC帧头格式"></a>802.11的MAC帧头格式</h4>
      <ul>
<li>地址1：RA接收端</li>
<li>地址2：TA发送端</li>
<li>地址3：目的地址</li>
<li>地址4：SA源地址</li>
</ul>

        <h4 id="无线局域网的分类"   >
          <a href="#无线局域网的分类" class="heading-link"><i class="fas fa-link"></i></a><a href="#无线局域网的分类" class="headerlink" title="无线局域网的分类"></a>无线局域网的分类</h4>
      <ol>
<li>有固定基础设施无线局域网</li>
<li>无固定基础设施无线局域网的自组织网络</li>
</ol>

        <h3 id="3-6-4-CSMA-CD协议"   >
          <a href="#3-6-4-CSMA-CD协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-6-4-CSMA-CD协议" class="headerlink" title="3.6.4 CSMA/CD协议"></a>3.6.4 CSMA/CD协议</h3>
      <p>载波监听多点接入/碰撞检测CSMA/CD(carrier sense multiple access with collision detection)</p>
<p>CS：载波侦听/监听，每一个站在<strong>发送数据之前</strong>以及<strong>发送数据时</strong>都要检测一下总线上是否有其他计算机在发送数据。</p>
<p>MA：多点接入，表示许多计算机以多点接入的方式连接在一根总线上，总线型网络。</p>
<p>CD：碰撞检测(冲突检测)，“边发送边监听”，适配器边发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。半双工网络</p>

        <h4 id="为什么先听后发还会冲突？"   >
          <a href="#为什么先听后发还会冲突？" class="heading-link"><i class="fas fa-link"></i></a><a href="#为什么先听后发还会冲突？" class="headerlink" title="为什么先听后发还会冲突？"></a>为什么先听后发还会冲突？</h4>
      <p>因为电磁波在总线上总是以有限的速率传播，</p>

        <h4 id="传播时延对载波监听的影响"   >
          <a href="#传播时延对载波监听的影响" class="heading-link"><i class="fas fa-link"></i></a><a href="#传播时延对载波监听的影响" class="headerlink" title="传播时延对载波监听的影响"></a>传播时延对载波监听的影响</h4>
      <p>最多是两倍的总线端到端的传播时延(2τ)</p>
<p>总线的端到端往返传播时延</p>
<p>争用期/冲突窗口/碰撞窗口</p>
<p>只要经过2τ时间还没有检测到碰撞，就肯定这次发送不会发生碰撞。</p>

        <h4 id="如何确定碰撞后的重传时机"   >
          <a href="#如何确定碰撞后的重传时机" class="heading-link"><i class="fas fa-link"></i></a><a href="#如何确定碰撞后的重传时机" class="headerlink" title="如何确定碰撞后的重传时机"></a>如何确定碰撞后的重传时机</h4>
      <ul>
<li>截断二进制指数规避算法<ol>
<li>确定基本退避(推迟)时间为争用期2τ</li>
<li>定义参数k，它等于<strong>重传次数</strong>，但k不超过10，即k=min[重传次数,10]。当重传次数不超过10时，k等于重传次数；当重传次数大于10时，k就不再增大而一直等于10。</li>
<li>从离散的整数集合[0,1,……,2^K-1]中随机取出一个数r,重传所需要退避的时间就是<strong>r倍的基本退避时间</strong>，即2rτ。</li>
<li>当重传达<strong>16次</strong>仍不能成功时，说明网络太拥挤，认为此帧永远无法正确发出，抛弃此帧并向高层报告出错。</li>
</ol>
</li>
</ul>
<p>若连续多次发生冲突，就表明可能有<strong>较多的站参与争用</strong>信道。使用此算法可使重传需要推迟的平均时间随重传次数的增大而增大，因而减小发生碰撞的概率，有利于整个系统的稳定。</p>

        <h4 id="最小帧长问题"   >
          <a href="#最小帧长问题" class="heading-link"><i class="fas fa-link"></i></a><a href="#最小帧长问题" class="headerlink" title="最小帧长问题"></a>最小帧长问题</h4>
      <p>帧的传输时延至少要两倍于信号在总线中的传输时延</p>
<p>最小帧长 = 总线传播时延X数据传输速率X2</p>
<p>2τ X 数据传输速率</p>
<p>以太网规定2τ=51.2μs，对于10Mb/s的以太网，最短帧长=64B</p>
<p>以太网规定最短帧长为64B，凡是长度小于64B的都是由于冲突而异常终止的无效帧。</p>

        <h2 id="3-7-PPP协议和HDLC协议"   >
          <a href="#3-7-PPP协议和HDLC协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-7-PPP协议和HDLC协议" class="headerlink" title="3.7 PPP协议和HDLC协议"></a>3.7 PPP协议和HDLC协议</h2>
      
        <h3 id="广域网"   >
          <a href="#广域网" class="heading-link"><i class="fas fa-link"></i></a><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h3>
      <p>广域网(WAN)，通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个州并能提供远距离通信，形成国际性的远程网络。</p>
<p>广域网的通信子网主要使用<strong>分组交换</strong>技术。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，它将分布在不同地区的<strong>局域网或计算机系统</strong>互连起来，达到<strong>资源共享</strong>的目的。如因特网是世界范围内最大的广域网。</p>

        <h3 id="PPP协议"   >
          <a href="#PPP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h3>
      <p>点对点协议PPP是目前使用最广泛的数据层协议，用户使用拨号电话接入因特网时一般都使用PPP协议。</p>
<p>只支持全双工链路</p>

        <h4 id="PPP协议应满足的要求"   >
          <a href="#PPP协议应满足的要求" class="heading-link"><i class="fas fa-link"></i></a><a href="#PPP协议应满足的要求" class="headerlink" title="PPP协议应满足的要求"></a>PPP协议应满足的要求</h4>
      <ul>
<li>简单<ul>
<li>对于链路层的帧，无需纠错，无需序号，无需流量控制</li>
</ul>
</li>
<li>封装成帧<ul>
<li>帧定界符</li>
</ul>
</li>
<li>透明传输<ul>
<li>与帧定界符一样比特组合的数据应该如何处理：异步线路用字节填充，同步线路用比特填充。</li>
</ul>
</li>
<li>多种网络层协议<ul>
<li>封装的IP数据报可以采用多种协议</li>
</ul>
</li>
<li>多种类型链路<ul>
<li>串行/并行，同步/异步，电/光……</li>
</ul>
</li>
<li>差错检测<ul>
<li>错就丢弃。</li>
</ul>
</li>
<li>检测连接状态<ul>
<li>链路是否正常工作</li>
</ul>
</li>
<li>最大传输单元<ul>
<li>数据部分最大长度MTU。</li>
</ul>
</li>
<li>网络层地址协商<ul>
<li>知道通信双方的网络层地址。</li>
</ul>
</li>
<li>数据压缩协商</li>
</ul>

        <h4 id="PPP协议无需满足的要求"   >
          <a href="#PPP协议无需满足的要求" class="heading-link"><i class="fas fa-link"></i></a><a href="#PPP协议无需满足的要求" class="headerlink" title="PPP协议无需满足的要求"></a>PPP协议无需满足的要求</h4>
      <ul>
<li>纠错</li>
<li>流量控制</li>
<li>序号</li>
<li>不支持多点线路</li>
</ul>

        <h4 id="PPP协议的三个组成部分"   >
          <a href="#PPP协议的三个组成部分" class="heading-link"><i class="fas fa-link"></i></a><a href="#PPP协议的三个组成部分" class="headerlink" title="PPP协议的三个组成部分"></a>PPP协议的三个组成部分</h4>
      <ol>
<li>一个将IP数据报封装到串行链路(同步串行/异步串行)的方法。</li>
<li>链路控制协议LCP：建立并维护数据链路连接。身份验证</li>
<li>网络控制协议NCP：PPP可支持多种网络层协议，每个不同的网络层协议都要一个相应的NCP来配置，为网络层协议建立和配置逻辑连接。</li>
</ol>

        <h3 id="HDLC协议"   >
          <a href="#HDLC协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#HDLC协议" class="headerlink" title="HDLC协议"></a>HDLC协议</h3>
      <p>高级数据链路控制，是一个在同步网上传输数据、<strong>面向比特</strong>的数据链路层协议，它是由国际标准化组织根据IBM公司的SDLC协议扩展开发而成的。</p>
<p>数据报文可透明传输，用于实现透明传输的“0比特插入法”易于硬件实现。</p>
<p>采用全双工通信。</p>
<p>所有帧采用CRC检验，对信息帧进行顺序编号，可防止漏收或重份，传输可靠性高。</p>

        <h4 id="HDLC的站"   >
          <a href="#HDLC的站" class="heading-link"><i class="fas fa-link"></i></a><a href="#HDLC的站" class="headerlink" title="HDLC的站"></a>HDLC的站</h4>
      <ol>
<li>主站 <ul>
<li>发送命令(包括数据信息)帧、接收响应帧，并负责对整个链路的控制系统的初启、流程的控制、差错检测或恢复等。</li>
</ul>
</li>
<li>从站<ul>
<li>从站的主要功能是接收由主站发来的命令帧，由主站发送响应帧，并且配合主站参与差错恢复等链路控制。</li>
</ul>
</li>
<li>复合站<ul>
<li>复合站的主要功能是既能发送，又能接收命令帧和相应帧，并且负责整个链路的控制。</li>
</ul>
</li>
</ol>
<ul>
<li>三种数据的操作方式：<ol>
<li>正常响应方式</li>
<li>异步平衡方式</li>
<li>异步响应方式</li>
</ol>
</li>
</ul>

        <h4 id="HDLC的帧格式"   >
          <a href="#HDLC的帧格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#HDLC的帧格式" class="headerlink" title="HDLC的帧格式"></a>HDLC的帧格式</h4>
      <ol>
<li>信息帧(I)第一位用0，用来<strong>传输数据信息</strong>，或使用捎带技术对数据进行确认。</li>
<li>监督帧(S)10，用于<strong>流量控制和差错控制</strong>，执行对信息帧的确认、请求重发和请求暂停发送等功能。</li>
<li>无编号帧(U)111用于提供对<strong>链路</strong>的建立、拆除等多种控制功能。</li>
</ol>
<p>无奸细</p>

        <h3 id="PPP协议-amp-HDLC协议"   >
          <a href="#PPP协议-amp-HDLC协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#PPP协议-amp-HDLC协议" class="headerlink" title="PPP协议&amp;HDLC协议"></a>PPP协议&amp;HDLC协议</h3>
      <p>HDLC、PPP只支持<strong>全双工</strong>链路。</p>
<p>都可以实现透明传输</p>
<p>都可以实现差错检测，但不纠正差错</p>
<p>PPP协议是面向字节的，HDLC协议是面向比特的。</p>
<p>PPP协议无序号和确认机制，HDLC协议有编号和确认机制。</p>
<p>PPP协议不可靠，HDLC协议可靠</p>

        <h2 id="3-8-链路层设备"   >
          <a href="#3-8-链路层设备" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-8-链路层设备" class="headerlink" title="3.8 链路层设备"></a>3.8 链路层设备</h2>
      
        <h3 id="物理层扩展以太网"   >
          <a href="#物理层扩展以太网" class="heading-link"><i class="fas fa-link"></i></a><a href="#物理层扩展以太网" class="headerlink" title="物理层扩展以太网"></a>物理层扩展以太网</h3>
      
        <h3 id="链路层扩展以太网"   >
          <a href="#链路层扩展以太网" class="heading-link"><i class="fas fa-link"></i></a><a href="#链路层扩展以太网" class="headerlink" title="链路层扩展以太网"></a>链路层扩展以太网</h3>
      <p><strong>网桥</strong>根据MAC帧的目的地址对帧进行转发和过滤。当网桥收到一个帧时，并不向所有接口转发此帧，而是先检查此帧的目的MAC地址，然后在确定将该帧转发到哪一个接口，或者把它丢弃(即过滤)。</p>
<p>网段：一般指一个计算机网络中使用同一物理设备(传输介质，中继器，集线器等)能够直接通讯的那一部分。</p>
<ul>
<li>网桥优点<ol>
<li>过滤通信量，增大吞吐量</li>
<li>扩大了物理传输范围</li>
<li>提高了可靠性</li>
<li>可互联不同物理层、不同MAC子层和不同速率的以太网。</li>
</ol>
</li>
</ul>

        <h3 id="网桥分类——透明网桥"   >
          <a href="#网桥分类——透明网桥" class="heading-link"><i class="fas fa-link"></i></a><a href="#网桥分类——透明网桥" class="headerlink" title="网桥分类——透明网桥"></a>网桥分类——透明网桥</h3>
      <p>透明网桥：“透明”指以太网上的站点并不知道所发送的帧将经过哪几个网桥，是一种即插即用设备——自学习。</p>

        <h3 id="网桥分类——源路由网桥"   >
          <a href="#网桥分类——源路由网桥" class="heading-link"><i class="fas fa-link"></i></a><a href="#网桥分类——源路由网桥" class="headerlink" title="网桥分类——源路由网桥"></a>网桥分类——源路由网桥</h3>
      <p>源路由网桥：在发送帧时，吧详细的最佳路由信息(路由最少/时间最短)放在帧的首部中。</p>
<p>方法：源站以广播方式向欲通信的目的站发送一个<strong>发现帧</strong>。</p>

        <h4 id="多接口网桥——以太网交换机"   >
          <a href="#多接口网桥——以太网交换机" class="heading-link"><i class="fas fa-link"></i></a><a href="#多接口网桥——以太网交换机" class="headerlink" title="多接口网桥——以太网交换机"></a>多接口网桥——以太网交换机</h4>
      <p>独占媒体带宽</p>

        <h4 id="以太网交换机的两种交换方式"   >
          <a href="#以太网交换机的两种交换方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#以太网交换机的两种交换方式" class="headerlink" title="以太网交换机的两种交换方式"></a>以太网交换机的两种交换方式</h4>
      <ul>
<li>直通式交换机<ul>
<li>查完目的地址(6B)就立刻转发</li>
<li>延迟小，可靠性低，无法支持具有不同速率的端口的交换</li>
</ul>
</li>
<li>存储转发式交换机<ul>
<li>将帧放入高速缓存，并检查是否正确，正确则转发，错误则丢弃。</li>
<li>延迟大，可靠性高，可以支持具有不同速率的端口的交换。</li>
</ul>
</li>
</ul>

        <h4 id="冲突域和广播域"   >
          <a href="#冲突域和广播域" class="heading-link"><i class="fas fa-link"></i></a><a href="#冲突域和广播域" class="headerlink" title="冲突域和广播域"></a>冲突域和广播域</h4>
      <p>冲突域：在同一个冲突域中的每一个结点都能收到所有被发送的帧。简单的说就是同一时间内只能有一台设备发送信息的范围。</p>
<p>广播域：网络中能接收任意设备发出的广播帧的所有设备的集合。简单的说如果站点发出一个广播信号，所有能接收到这个信号的设备范围称为一个广播域.</p>

        <h1 id="第4章——网络层"   >
          <a href="#第4章——网络层" class="heading-link"><i class="fas fa-link"></i></a><a href="#第4章——网络层" class="headerlink" title="第4章——网络层"></a>第4章——网络层</h1>
      
        <h2 id="4-1-网络层的功能"   >
          <a href="#4-1-网络层的功能" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-网络层的功能" class="headerlink" title="4.1 网络层的功能"></a>4.1 网络层的功能</h2>
      
        <h3 id="4-1-1-网络层功能概述"   >
          <a href="#4-1-1-网络层功能概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-1-网络层功能概述" class="headerlink" title="4.1.1 网络层功能概述"></a>4.1.1 网络层功能概述</h3>
      <p>主要任务是把<strong>分组</strong>从源端传送到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单位是<strong>数据报</strong>。</p>
<ul>
<li>功能一：路由选择与分组转发<ul>
<li>最佳路径</li>
</ul>
</li>
<li>功能二：异构网络互连</li>
<li>功能三：拥塞控制<ul>
<li>若所有结点都来不及接收分组，而要丢弃大量分组的话，网络就处于<strong>拥塞</strong>状态，因此要采取一定措施，缓解这种拥塞。<ul>
<li>开环控制(静态)</li>
<li>闭环控制(动态)</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h3 id="4-1-2-电路交换、报文交换与分组交换"   >
          <a href="#4-1-2-电路交换、报文交换与分组交换" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-2-电路交换、报文交换与分组交换" class="headerlink" title="4.1.2 电路交换、报文交换与分组交换"></a>4.1.2 电路交换、报文交换与分组交换</h3>
      <ol>
<li>电路交换<ul>
<li>电话网络</li>
<li>建立连接-&gt;通信-&gt;释放连接</li>
<li>独占资源</li>
<li>优点：<ul>
<li>通信时延小</li>
<li>有序传输</li>
<li>没有冲突</li>
<li>实时性强</li>
</ul>
</li>
<li>缺点：<ul>
<li>建立连接时间长</li>
<li>线路独占，使用效率低</li>
<li>灵活性差</li>
<li>无差错控制能力</li>
</ul>
</li>
</ul>
</li>
<li>报文交换<ul>
<li>报文：源应用发送的信息整体</li>
<li>优点：<ul>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>多目标服务</li>
</ul>
</li>
<li>缺点：<ul>
<li>有存储转发时延</li>
<li>报文大小不定，需要网络结点有较大缓存空间</li>
</ul>
</li>
</ul>
</li>
<li>分组交换<ul>
<li>分组：把大的数据块分隔成小的数据块</li>
<li>优点：<ul>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>相对于报文交换，存储管理更容易</li>
</ul>
</li>
<li>缺点：<ul>
<li>有存储转发时延</li>
<li>需要传输额外的信息量</li>
<li>乱序到目的主机时，要对分组排序重组</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>计算题中要注意的几点：</p>
<ol>
<li>单位换算 1B=8b</li>
<li>是否考虑传播延迟</li>
<li>时间至少是多少——选择最少跳数</li>
<li>起始时间</li>
<li>是否有分组头部大小的开销</li>
<li>报文交换时延更长，分组交换时延可能不是整数</li>
</ol>

        <h4 id="总结"   >
          <a href="#总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#总结" class="headerlink" title="总结"></a>总结</h4>
      <ol>
<li>报文交换和分组交换都采用存储转发</li>
<li>传送数据量大，且传送时间远大于呼叫时，选择电路交换。电路交换传输时延最小。</li>
<li>从信道利用率看，报文交换和分组交换优于电路交换，其中分组交换时延更小。</li>
</ol>

        <h3 id="4-1-3-数据报与虚电路"   >
          <a href="#4-1-3-数据报与虚电路" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-3-数据报与虚电路" class="headerlink" title="4.1.3 数据报与虚电路"></a>4.1.3 数据报与虚电路</h3>
      <ul>
<li><p>数据报方式为网络层提供<strong>无连接服务</strong></p>
</li>
<li><p>虚电路方式为网络层提供<strong>连接服务</strong></p>
</li>
<li><p>无连接服务：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</p>
</li>
<li><p>连接服务：首先为分子的传输确定传输路径(建立连接)，然后烟该路径(连接)传输系列分组，系列分子传输路径相同，传输结束后超出连接。</p>
</li>
</ul>

        <h4 id="几种传输单元名词辨析"   >
          <a href="#几种传输单元名词辨析" class="heading-link"><i class="fas fa-link"></i></a><a href="#几种传输单元名词辨析" class="headerlink" title="几种传输单元名词辨析"></a>几种传输单元名词辨析</h4>
      <ul>
<li>应用层：报文</li>
<li>传输层：报文段</li>
<li>网络层：IP数据报，并在IP数据报过大时进行切割，形成分组。包含IP源地址和目的地址</li>
<li>数据链路层：帧。加头加尾</li>
<li>物理层：比特流</li>
</ul>

        <h4 id="数据报"   >
          <a href="#数据报" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据报" class="headerlink" title="数据报"></a>数据报</h4>
      <p>无连接</p>
<p>每个分组携带源和目的地址</p>
<p>路由器根据分组的目的地址转发分组：基于路由协议/算法构建转发表；检索转发表；每个分组独立选路。</p>

        <h4 id="虚电路"   >
          <a href="#虚电路" class="heading-link"><i class="fas fa-link"></i></a><a href="#虚电路" class="headerlink" title="虚电路"></a>虚电路</h4>
      <p>虚电路将数据报方式和电路交换方式结合，以发挥两者优点。</p>
<p>虚电路：一张源主机到目的主机类似于网络的路径(逻辑连接)，路径上所有结点都要维持这条虚电路的建立，都维持一张虚电路表，每一项记录了一个打开的虚电路信息。</p>
<ol>
<li>建立连接(虚电路建立)<ul>
<li>每个分组携带<strong>虚电路号</strong>，而非目的地址。源主机发送“呼叫请求”分组并收到“呼叫应答”分组后才算建立连接。</li>
</ul>
</li>
<li>数据传输<ul>
<li>全双工通信</li>
</ul>
</li>
<li>释放连接(虚电路释放)<ul>
<li>源主机发送“释放请求”分组以拆除虚电路。</li>
</ul>
</li>
</ol>

        <h3 id="4-2-路由算法与路由协议概述"   >
          <a href="#4-2-路由算法与路由协议概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-路由算法与路由协议概述" class="headerlink" title="4.2 路由算法与路由协议概述"></a>4.2 路由算法与路由协议概述</h3>
      
        <h4 id="路由算法"   >
          <a href="#路由算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由算法" class="headerlink" title="路由算法"></a>路由算法</h4>
      <p>最佳路由：“最佳”只能是相对于某一特定要求下的出的较为合理的选择而已。</p>

        <h4 id="路由算法分类"   >
          <a href="#路由算法分类" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由算法分类" class="headerlink" title="路由算法分类"></a>路由算法分类</h4>
      <ul>
<li><p>静态路由算法</p>
<ul>
<li>非自适应路由算法</li>
<li>管理员手工配置路由信息</li>
<li>简单、可靠，在复合稳定、拓扑变化不大的网络中运行效果很好，广泛用于高度安全性的军事网络和较小的商业网络。</li>
<li>路由更新慢，不适用于大型网络</li>
</ul>
</li>
<li><p>动态路由算法</p>
<ul>
<li>自适应路由算法</li>
<li>路由器之间彼此交换信息，按照路由算法优化出路由表项</li>
<li>路由更新快，使用大型网络，及时响应链路费用或网络拓扑变化。</li>
<li>算法复杂，增加网络负担。</li>
</ul>
</li>
<li><p>动态路由算法</p>
<ul>
<li>全局性<ul>
<li>链路状态路由算法 OSPF</li>
<li>所有路由器掌握完整的网络拓扑和链路费用信息。</li>
</ul>
</li>
<li>分散性<ul>
<li>距离向量算法 RIP</li>
<li>路由器只掌握物理相连的邻居及路由费用。</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="分层次的路由选择协议"   >
          <a href="#分层次的路由选择协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#分层次的路由选择协议" class="headerlink" title="分层次的路由选择协议"></a>分层次的路由选择协议</h4>
      <ol>
<li>因特网规模很大</li>
<li>许多单位不想让外界知道自己的路由选择协议，但还想炼乳因特网</li>
</ol>
<p>自制系统AS：在单一的技术管理下的一组路由器，而这些路由器使用一种AS内部的路由协议和共同的度量以确定分组在该AS内的路由，同时还是用一种AS之间的路由协议以确定在AS之间的路由</p>
<p>一个AS内的所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本自治系统内都必须连通。</p>
<ul>
<li>路由选择协议<ul>
<li>内部网关协议IGP<ul>
<li>RIP、OSPF</li>
</ul>
</li>
<li>外部网关协议EGP<ul>
<li>BGP</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h3 id="4-3-IPv4"   >
          <a href="#4-3-IPv4" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-IPv4" class="headerlink" title="4.3 IPv4"></a>4.3 IPv4</h3>
      
        <h3 id="4-3-1-IP数据报格式"   >
          <a href="#4-3-1-IP数据报格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-1-IP数据报格式" class="headerlink" title="4.3.1 IP数据报格式"></a>4.3.1 IP数据报格式</h3>
      
        <h4 id="TCP-IP协议栈"   >
          <a href="#TCP-IP协议栈" class="heading-link"><i class="fas fa-link"></i></a><a href="#TCP-IP协议栈" class="headerlink" title="TCP/IP协议栈"></a>TCP/IP协议栈</h4>
      
        <h3 id="4-3-2-IP数据报分片"   >
          <a href="#4-3-2-IP数据报分片" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-2-IP数据报分片" class="headerlink" title="4.3.2 IP数据报分片"></a>4.3.2 IP数据报分片</h3>
      <p>数据链路帧可封装数据的上限。</p>
<p>以太网的MTU是1500字节。</p>
<p>超过了1500字节就要分片。</p>
<ul>
<li>中间位DF：<ul>
<li>DF = 1，禁止分片</li>
<li>DF = 0，允许分片</li>
</ul>
</li>
<li>最低位MF：<ul>
<li>MF = 1,后面“还有分片”</li>
<li>MF = 0，代表最后一片了，后面没有分片</li>
</ul>
</li>
</ul>
<p>片偏移：指出较长分组分片后，某片以原分组中的相对位置，以8B为单位。</p>
<p>除了最后一个片，每个分片长度一定是8B的整数倍。</p>

        <h3 id="4-3-3-IPv4地址"   >
          <a href="#4-3-3-IPv4地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-3-IPv4地址" class="headerlink" title="4.3.3 IPv4地址"></a>4.3.3 IPv4地址</h3>
      
        <h4 id="IP编址的历史阶段"   >
          <a href="#IP编址的历史阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP编址的历史阶段" class="headerlink" title="IP编址的历史阶段"></a>IP编址的历史阶段</h4>
      <ul>
<li>分类的IP地址</li>
<li>子网的划分</li>
<li>构成超网</li>
</ul>

        <h4 id="分类的IP地址"   >
          <a href="#分类的IP地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#分类的IP地址" class="headerlink" title="分类的IP地址"></a>分类的IP地址</h4>
      <p>IP地址：全世界唯一的32位/4字节标识符，标识路由器主机的接口</p>
<p>IP地址::={&lt;网络号&gt;,&lt;主机号&gt;}</p>
<ul>
<li>A类：第一个字节是网络号，第一位是0</li>
<li>B类：前两个字节是网络号，开头是10</li>
<li>C类：前三个字节是网络号，前三位是110</li>
<li>D类：多播地址，前四位是1110</li>
<li>E类：保留为今后使用</li>
</ul>

        <h4 id="私有IP地址"   >
          <a href="#私有IP地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#私有IP地址" class="headerlink" title="私有IP地址"></a>私有IP地址</h4>
      <p>其实就是内网IP地址==、</p>

        <h3 id="4-3-4-网络地址转化NAT"   >
          <a href="#4-3-4-网络地址转化NAT" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-4-网络地址转化NAT" class="headerlink" title="4.3.4 网络地址转化NAT"></a>4.3.4 网络地址转化NAT</h3>
      <p>路由器对目的地址是私有IP地址的数据报一律不进行转发</p>
<p>网络地址转换NAT：在专用网连接到因特网的路由器上安装NAT软件，安装了NAT软件的路路由器叫做<strong>NAT路由器</strong>，它至少有一个有效的外部全球IP地址。</p>
<p>路由器中存在一个NAT转换表。使用端口号对应网内终端。</p>

        <h3 id="4-3-5-子网划分与子网掩码"   >
          <a href="#4-3-5-子网划分与子网掩码" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-5-子网划分与子网掩码" class="headerlink" title="4.3.5 子网划分与子网掩码"></a>4.3.5 子网划分与子网掩码</h3>
      <ul>
<li>分类的IP地址的缺点：<ul>
<li>IP地址空间的利用率有时很低</li>
<li>两级IP地址不够灵活</li>
</ul>
</li>
</ul>

        <h4 id="子网划分"   >
          <a href="#子网划分" class="heading-link"><i class="fas fa-link"></i></a><a href="#子网划分" class="headerlink" title="子网划分"></a>子网划分</h4>
      <p>某单位划分子网后，对外仍表现为一个网络，即本单位外的网络看不见本单位内子网的划分。</p>
<p>子网号能否全0全1要看情况</p>
<p>主机号不能全0或全1</p>

        <h4 id="子网掩码"   >
          <a href="#子网掩码" class="heading-link"><i class="fas fa-link"></i></a><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h4>
      <p>只要是网络号就全1，主机号就全0</p>
<p>子网掩码与IP地址诸位相与，就得到子网网络地址。</p>

        <h4 id="使用子网时分组的转发"   >
          <a href="#使用子网时分组的转发" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用子网时分组的转发" class="headerlink" title="使用子网时分组的转发"></a>使用子网时分组的转发</h4>
      <ul>
<li><p>路由表中：</p>
<ol>
<li>目的网路地址</li>
<li>目的网络子网掩码</li>
<li>下一跳地址</li>
</ol>
</li>
<li><p>路由器转发分组算法</p>
<ol>
<li>提取目的IP地址</li>
<li>是否直接交付</li>
<li>特定主机路由</li>
<li>检测路由表中有无路径</li>
<li>默认路由0.0.0.0</li>
</ol>
</li>
</ul>

        <h3 id="4-3-6-无分类标志CIDR"   >
          <a href="#4-3-6-无分类标志CIDR" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-6-无分类标志CIDR" class="headerlink" title="4.3.6 无分类标志CIDR"></a>4.3.6 无分类标志CIDR</h3>
      <ul>
<li>无分类域间路由选择CIDR:<ol>
<li>消除了传统的A类，B类和C类以及划分子网的概念<ol>
<li>CIDR记法：IP地址后加上<code>/</code>，然后写上网络前缀(可以任意长度)的位数。</li>
</ol>
</li>
<li>融合子网地址与子网掩码，方便子网划分<ol>
<li>CIDR吧网络前缀都相同的联系的IP地址组成一个<code>CIDR地址块</code></li>
<li>不能指派最小地址和最大地址</li>
</ol>
</li>
</ol>
</li>
</ul>

        <h4 id="构成超网"   >
          <a href="#构成超网" class="heading-link"><i class="fas fa-link"></i></a><a href="#构成超网" class="headerlink" title="构成超网"></a>构成超网</h4>
      <p>将多个子网聚合成一个较大的子网，叫做构成超网，或路由聚合。</p>
<p>方法：将网络前缀缩短</p>

        <h4 id="最长前缀匹配"   >
          <a href="#最长前缀匹配" class="heading-link"><i class="fas fa-link"></i></a><a href="#最长前缀匹配" class="headerlink" title="最长前缀匹配"></a>最长前缀匹配</h4>
      <p>使用CIDR时，查找路由表可能得到几个匹配结果，应选择具有最长网络前缀的路由。前缀越长，地址块越小，路由越具体。</p>

        <h3 id="4-3-7-ARP协议"   >
          <a href="#4-3-7-ARP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-7-ARP协议" class="headerlink" title="4.3.7 ARP协议"></a>4.3.7 ARP协议</h3>
      <p>IP地址与MAC地址的映射</p>
<p>广播ARP请求分组</p>
<p>交换机没有MAC地址</p>

        <h4 id="ARP协议"   >
          <a href="#ARP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h4>
      <p>由于在实际网络的链路上传送数据帧时，最终必需使用MAC地址。</p>
<p>ARP协议：完成主机或路由器IP地址MAC地址的映射——解决下一跳走哪的问题。</p>
<p>ARP协议使用过程：检查ARO高速缓存，有对应表项则写入MAC帧，没有则用目的MAC地址为FF-FF-FF-FF-FF-FF的帧封装并广播ARP请求分组，同一局域网中所有主机都能收到该请求。目的主机的收到该请求后回想源主机单播一个ARP响应分组，源主机收到后将此映射写入ARP缓存(10-20min更新一次)。</p>
<ul>
<li>ARP协议4中典型情况：<ol>
<li>主机A发给本网络上的主机B：用ARO找到主机B的硬件地址；</li>
<li>主机A发送给另一网络上的主机B：用ARP找到本网络上的一个路由器(网关)的硬件地址；</li>
<li>路由器发给本网络的主机A：用ARP找到主机A的硬件地址；</li>
<li>路由器发给另一网络的主机B：用ARP找到本网络上的一个路由器的硬件地址。</li>
</ol>
</li>
</ul>
<p>ARP协议是自动进行的。</p>

        <h3 id="4-3-8-DHCP协议"   >
          <a href="#4-3-8-DHCP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-8-DHCP协议" class="headerlink" title="4.3.8 DHCP协议"></a>4.3.8 DHCP协议</h3>
      <ul>
<li>主机如何获得IP地址？<ul>
<li>静态配置<ul>
<li>IP地址</li>
<li>子网掩码</li>
<li>默认网关</li>
</ul>
</li>
<li>动态配置</li>
</ul>
</li>
</ul>

        <h4 id="DHCP协议"   >
          <a href="#DHCP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#DHCP协议" class="headerlink" title="DHCP协议"></a>DHCP协议</h4>
      <p>动态主机配置协议DHCP是<strong>应用层</strong>协议，使用<strong>客户/服务器</strong>方式，客户端和服务端通过<strong>广播</strong>方式进行交互，基于<strong>UDP</strong>。DHCP提供<strong>即插即用</strong>联网的机制，主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器名称与IP地址，允许<strong>地址复用</strong>，支持<strong>移动用户加入网络</strong>，支持<strong>在用地址续租</strong>。</p>
<ol>
<li>主机广播DHCP发现报文<ul>
<li>试图找到网络中的服务器，服务器获得一个IP地址。</li>
</ul>
</li>
<li>DHCP服务器广播DHCP提供报文<ul>
<li>服务器拟分配给主机一个IP地址及相关配置，先到先得。</li>
</ul>
</li>
<li>主机广播DHCP请求报文<ul>
<li>主机向服务器请求提供IP地址</li>
</ul>
</li>
<li>DHCP服务器广播DHCP确认报文<ul>
<li>正式将IP地址分配给主机</li>
</ul>
</li>
</ol>

        <h3 id="4-3-9-ICMP协议"   >
          <a href="#4-3-9-ICMP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-9-ICMP协议" class="headerlink" title="4.3.9 ICMP协议"></a>4.3.9 ICMP协议</h3>
      <p>网际控制报文协议ICMP</p>
<ul>
<li>ICMP协议支持主机或路由器：<ul>
<li>差错(或异常)报告 -&gt;发送特定ICMP报文</li>
<li>网络探寻</li>
</ul>
</li>
</ul>

        <h4 id="ICMP差错报告报文"   >
          <a href="#ICMP差错报告报文" class="heading-link"><i class="fas fa-link"></i></a><a href="#ICMP差错报告报文" class="headerlink" title="ICMP差错报告报文"></a>ICMP差错报告报文</h4>
      <ol>
<li>终点不可达：当路由器或主机不能交付数据报时就向源点发送重点不可达报文。</li>
<li>源点抑制：当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文，使源点知道应当把数据报的发送速率放慢。</li>
<li>时间超时：当路由器收到生存时间TTL=0的数据报时，出丢弃该数据报外，还要向源点发送时间超过报文。当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。</li>
<li>参数问题：当路由器或目的主机收到的数据包的首部中有的字段的值不正确时，就丢弃该数据报，并向源点发送参数问题报文。</li>
<li>改变路由(重定向)：路由器把改变路由报文发送给主机，让主机知道下次应该将数据报发送给另外的路由器(可通过更好的路由)。</li>
</ol>

        <h4 id="不应发送ICMP差错报文的情况"   >
          <a href="#不应发送ICMP差错报文的情况" class="heading-link"><i class="fas fa-link"></i></a><a href="#不应发送ICMP差错报文的情况" class="headerlink" title="不应发送ICMP差错报文的情况"></a>不应发送ICMP差错报文的情况</h4>
      <ol>
<li>对ICMP差错报告报文不再发送ICMP差错报告报文。</li>
<li>对第一个分片的数据报文的所有后续数据报片都不发送ICMP差错报告报文。</li>
<li>对具有组播的数据报都不发送CIMP差错报告报文。</li>
<li>对具有特殊地址的数据包不发送ICMP差错报告报文</li>
</ol>

        <h4 id="ICMP询问报文"   >
          <a href="#ICMP询问报文" class="heading-link"><i class="fas fa-link"></i></a><a href="#ICMP询问报文" class="headerlink" title="ICMP询问报文"></a>ICMP询问报文</h4>
      <ol>
<li>回送请求和回答报文<ul>
<li>主机或路由器向特定目的主机发出的询问，收到此报文的主机必须给源主机或路由器发送ICMP会送回答报文。</li>
<li>测试目的站是否科大以及了解其相关状态。</li>
</ul>
</li>
<li>时间戳请求和回答报文<ul>
<li>请某个主机或路由器回答当前的日期和时间</li>
<li>用来进行时钟同步和测量时间</li>
</ul>
</li>
<li>掩码地址请求和回答报文<ul>
<li>不再使用了</li>
</ul>
</li>
<li>路由器询问和通告报文<ul>
<li>不再使用了</li>
</ul>
</li>
</ol>
<ul>
<li>PING<ul>
<li>测试两个主机之间的连通性，使用了ICMP回送请求和回答报文</li>
</ul>
</li>
<li>Traceroute<ul>
<li>跟踪一个分组从源点到终点的路径，使用了ICMP时间超过差错报告报文。</li>
</ul>
</li>
</ul>

        <h2 id="4-4-IPv6"   >
          <a href="#4-4-IPv6" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-4-IPv6" class="headerlink" title="4.4 IPv6"></a>4.4 IPv6</h2>
      <p>从根本上解决地址耗尽问题</p>
<p>改进首部格式</p>
<p>快速处理/转发数据报</p>
<p>支持QoS</p>

        <h3 id="IPv6数据报格式"   >
          <a href="#IPv6数据报格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6数据报格式" class="headerlink" title="IPv6数据报格式"></a>IPv6数据报格式</h3>
      
        <h3 id="IPv6和IPv4"   >
          <a href="#IPv6和IPv4" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6和IPv4" class="headerlink" title="IPv6和IPv4"></a>IPv6和IPv4</h3>
      <ol>
<li>IPv6将地址从32位扩大到128位，更大的地址空间</li>
<li>IPv6将IPv4的校验和字段彻底移除，一间小每跳的处理时间。</li>
<li>IPv6将IPv4的可选字段移除首部，变成了扩展首部，称为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率。</li>
<li>IPv6支持即插即用，不需要DHCP协议</li>
<li>IPv6首部长度必须是<strong>8B</strong>的整数，IPv4首部是4B的整数倍</li>
<li>IPv6只能在主机处切片，IPv4可以在路由器和主机处分片</li>
<li>ICMPv6：附加报文类型“分组过大”</li>
<li>IPv6支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用。</li>
<li>IPv6取消了协议字段，改成下一个首部字段</li>
<li>IPv6取消了总长度字段，改用有效载荷长度字段</li>
<li>IPv6取消了服务类型字段</li>
</ol>

        <h3 id="IPv6地址表示形式"   >
          <a href="#IPv6地址表示形式" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6地址表示形式" class="headerlink" title="IPv6地址表示形式"></a>IPv6地址表示形式</h3>
      <ul>
<li>一般形式：冒号十六进制记法</li>
<li>压缩形式：合零删零</li>
<li>零压缩：一连串连续的0可以被一堆冒号取代</li>
</ul>

        <h3 id="IPv6基本地址类型"   >
          <a href="#IPv6基本地址类型" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6基本地址类型" class="headerlink" title="IPv6基本地址类型"></a>IPv6基本地址类型</h3>
      <ul>
<li>单播：<ul>
<li>一对一通信</li>
<li>可做源地址+目的地址</li>
</ul>
</li>
<li>多播<ul>
<li>一对多通信</li>
<li>可做目的地址</li>
</ul>
</li>
<li>任播<ul>
<li>一对多中的一个通信</li>
<li>可做目的地址</li>
</ul>
</li>
</ul>

        <h3 id="IPv6向IPv4过渡的策略"   >
          <a href="#IPv6向IPv4过渡的策略" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6向IPv4过渡的策略" class="headerlink" title="IPv6向IPv4过渡的策略"></a>IPv6向IPv4过渡的策略</h3>
      <ul>
<li>双栈协议<ul>
<li>同时启用IPv4协议栈和IPv6协议栈</li>
</ul>
</li>
<li>隧道技术<ul>
<li>通过使用互联网络的基础设施在网络之间传递数据的方式。使用隧道传递的数据(或负载)可以是不同协议的数据帧或包。隧道协议将其它协议的数据帧或包<strong>重新封装</strong>然后通过隧道发送。</li>
</ul>
</li>
</ul>

        <h2 id="4-5-路由协议"   >
          <a href="#4-5-路由协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-路由协议" class="headerlink" title="4.5 路由协议"></a>4.5 路由协议</h2>
      
        <h3 id="4-5-1-RIP协议与距离向量算法"   >
          <a href="#4-5-1-RIP协议与距离向量算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-1-RIP协议与距离向量算法" class="headerlink" title="4.5.1 RIP协议与距离向量算法"></a>4.5.1 RIP协议与距离向量算法</h3>
      
        <h4 id="RIP协议"   >
          <a href="#RIP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#RIP协议" class="headerlink" title="RIP协议"></a>RIP协议</h4>
      <p>RIP是一种分布式基于距离向量的路由选择协议，是因特网的协议标准，最大优点是简单</p>
<p>RIP协议要求网络中每一个路由器都维护从他自己到其他每一个目的网络的唯一最佳距离(即一组距离)。</p>
<p>距离：通常为“跳数”，即从源端口到目的端口所经过的路由器个数，经过一个路由器跳数+1.特别的，从已路由器到直接连接的网络距离为1.RIP允许一条路由最多只能包含15个路由器，因此距离为16表示网络不可达。</p>
<p>RIP协议指适用于小互联网。</p>

        <h4 id="RIP协议和谁交换？多久交换一次？交换什么？"   >
          <a href="#RIP协议和谁交换？多久交换一次？交换什么？" class="heading-link"><i class="fas fa-link"></i></a><a href="#RIP协议和谁交换？多久交换一次？交换什么？" class="headerlink" title="RIP协议和谁交换？多久交换一次？交换什么？"></a>RIP协议和谁交换？多久交换一次？交换什么？</h4>
      <ol>
<li>仅和相邻路由器交换信息</li>
<li>路由器交换的信息是自己的路由表</li>
<li>没30秒交换一次路由信息，然后路由器根据新信息更新路由表。若超过180s没收到邻居路由器的通告，则判定邻居没了，并更新自己的路由表。</li>
</ol>
<p>路由器刚开始工作时，只知道直接连接的网络的距离(距离为1)，接着每一个路由器也之和数目非常有限的相邻路由器交换并更新路由信息。</p>
<p>经过若干次更新后，所有路由器最终都会知道到达本自制系统任何一个网络的最短距离和下一跳路由器的肚地址，即<strong>“收敛”</strong>。</p>

        <h4 id="距离向量算法"   >
          <a href="#距离向量算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#距离向量算法" class="headerlink" title="距离向量算法"></a>距离向量算法</h4>
      <ol>
<li>修改相邻路路由器发来的RIP报文中所有表项。<ul>
<li>对地址为X的相邻路由器发来的RIP报文，修改此报文中的所有项目：把“下一跳”字段中的地址改为X，并把所有的“距离”+1。</li>
</ul>
</li>
<li>对修改后的RIP报文中的每一项目，进行以下步骤<ol>
<li>R1路由表中若没有Net3，则把该项目填入R1路由表</li>
<li>R1路由器中若有Net3，则查看下一跳路由器地址<ol>
<li>若下一跳是X，则用收到的羡慕低缓源路由表中的项目；</li>
<li>若下一跳不是X，原来距离比X走的距离远则更新，否则不作处理</li>
</ol>
</li>
</ol>
</li>
<li>若180s还没收到相邻路由器X的更新路由表，则把X记为不可达的路由器，即把距离设置为16</li>
<li>返回</li>
</ol>

        <h4 id="RIP协议好消息传得快，坏消息传的慢"   >
          <a href="#RIP协议好消息传得快，坏消息传的慢" class="heading-link"><i class="fas fa-link"></i></a><a href="#RIP协议好消息传得快，坏消息传的慢" class="headerlink" title="RIP协议好消息传得快，坏消息传的慢"></a>RIP协议好消息传得快，坏消息传的慢</h4>
      <p>RIP的特点：当网络层出现故障时，要经过比较长的时间(例如数分钟)才能将此信息传送到所有的路由器。“慢收敛”。</p>

        <h3 id="4-5-2-OSPF协议与链路状态算法"   >
          <a href="#4-5-2-OSPF协议与链路状态算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-2-OSPF协议与链路状态算法" class="headerlink" title="4.5.2 OSPF协议与链路状态算法"></a>4.5.2 OSPF协议与链路状态算法</h3>
      <p>开放最短路径优先OSPF协议：“开放”标明OSPF协议不是受某一家厂商控制，而是公开发表的：“最短路径优先”是因为使用了Dijkstra提出的最短路径算法SPF。</p>
<p>OSPF最主要的特征就是使用分布式的链路状态协议。</p>
<ul>
<li>OSPF的特点：<ul>
<li>使用洪泛法向自治系统内所有路由器发送信息，即路由器通过输出端口向所有相邻的路由器发送信息，而每一个路由器又再次将此信息发往其所有的相邻路由器。最终整个区域内所有路由器都得到了这个信息的一个副本。</li>
<li>发送的信息就是与本路由器<strong>相邻的所有路由器的链路状态</strong>(本路由器和哪些路由器相邻，以及链路的度量/代价——费用、距离、时延、带宽等)。</li>
<li>只有当<strong>链路发生变化时</strong>，路由器才向所有路由器泛洪发送此信息。</li>
<li>最后，所有路由器都能建立一个<strong>链路状态数据库</strong>，即全网拓扑图。</li>
</ul>
</li>
</ul>

        <h4 id="链路状态路由算法"   >
          <a href="#链路状态路由算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#链路状态路由算法" class="headerlink" title="链路状态路由算法"></a>链路状态路由算法</h4>
      <ol>
<li>每个路由器发现它的邻居结点【HELLO问候分组】，并了解节点的网络地址。</li>
<li>设置到它的每个邻居的成本低量metric。</li>
<li>构造【DD数据库描述分组】，向邻站给出自己的链路状态数据库中的所有链路状项目的摘要信息。</li>
<li>如果DD分组中的摘要自己都有，则邻站不做处理；如果有没有的或者是更新的，则发送【LSR链路状态请求分组】请求自己没有的和比自己更新的信息。</li>
<li>收到邻站的LSR分组后，发送【LSU链路状态更新分组】进行更新。</li>
<li>更新完毕后，邻站返回一个【LSAck链路状态确认分组】进行确认。</li>
<li>使用Dijkstra根据自己的链路状态数据库构造到其他结点间的最短路径。</li>
</ol>
<ul>
<li>只要一个路由器的链路状态发生变化：</li>
</ul>
<ol>
<li>泛洪法送【LSU链路状态更新分组】进行更新。</li>
<li>更新完毕后，其他站返回一个【LSAck链路状态确认分组】进行确认。</li>
</ol>

        <h4 id="OSPF的区域"   >
          <a href="#OSPF的区域" class="heading-link"><i class="fas fa-link"></i></a><a href="#OSPF的区域" class="headerlink" title="OSPF的区域"></a>OSPF的区域</h4>
      <p>为了使OSPF能够用于规模很大的网络，OSPF将一个自治系统再划分为若干个更小的范围，叫做区域。</p>
<p>每一个区域都有一个32位的区域标识符(用点分十进制表示)。</p>
<p>区域也不能太大，在一个区域内的路由器最好不超过200个。</p>

        <h4 id="OSPF分组"   >
          <a href="#OSPF分组" class="heading-link"><i class="fas fa-link"></i></a><a href="#OSPF分组" class="headerlink" title="OSPF分组"></a>OSPF分组</h4>
      <p>OSPF直接用IP数据报传送</p>

        <h4 id="OSPF其他特点"   >
          <a href="#OSPF其他特点" class="heading-link"><i class="fas fa-link"></i></a><a href="#OSPF其他特点" class="headerlink" title="OSPF其他特点"></a>OSPF其他特点</h4>
      <ol>
<li>每隔30min，要刷新一次数据库中的链路状态</li>
<li>由于一个路由器的链路状态值设计到与相邻漏气的连通状态，因而与整个互联网的规模并无直接关系。因此当<strong>互联网规模很大</strong>时，OSPF协议要比距离向量协议RIP好得多。</li>
<li>OSPF不存在坏消息传的慢的问题，它的<strong>收敛速度很快</strong>。</li>
</ol>

        <h3 id="4-5-3-BGP协议"   >
          <a href="#4-5-3-BGP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-3-BGP协议" class="headerlink" title="4.5.3 BGP协议"></a>4.5.3 BGP协议</h3>
      <ul>
<li>和谁交换：与其他AS的邻站BGP发言人交换信息。</li>
<li>交换什么：交换网络可达性的信息，即要到达某个网络所要经过的一系列AS。</li>
<li>多久交换：发生变化时更新有变化的部分。</li>
</ul>

        <h4 id="BGP协议交换信息的过程"   >
          <a href="#BGP协议交换信息的过程" class="heading-link"><i class="fas fa-link"></i></a><a href="#BGP协议交换信息的过程" class="headerlink" title="BGP协议交换信息的过程"></a>BGP协议交换信息的过程</h4>
      <p>BGO所交换的网络可达性的信息就是要<strong>到达某个网络所要经过的一系列AS</strong>。当BGP发言人互相交换了网络可达性的信息后，各BGP发言人就根据所采用的策略从收到的路由信息中找出到达各AS的较好路由。</p>

        <h4 id="BGP协议报文格式"   >
          <a href="#BGP协议报文格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#BGP协议报文格式" class="headerlink" title="BGP协议报文格式"></a>BGP协议报文格式</h4>
      <p>一个BGP发言人与其他自治系统中的BGP发言人要交换路由信息，就要先建立TCP连接，即通过TCP传送，然后再次连接上交换BGP报文以建立BGP会话，利用BGP会话交换路由信息。</p>
<p>BGP是<strong>应用层</strong>协议，借助<strong>TCP</strong>传送。</p>

        <h4 id="BGP协议特点"   >
          <a href="#BGP协议特点" class="heading-link"><i class="fas fa-link"></i></a><a href="#BGP协议特点" class="headerlink" title="BGP协议特点"></a>BGP协议特点</h4>
      <p>BGP支持<strong>CIDR</strong>，因此BGP的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。</p>
<p>在BUG刚刚运行时，BGP的邻站是交换整个的BGP路由表。但以后只需要在<strong>发生变化时更新有变化的部分</strong>。这样做对节省网络带宽和减小路由器的处理开销都有好处。</p>

        <h4 id="BGP-4的四种报文"   >
          <a href="#BGP-4的四种报文" class="heading-link"><i class="fas fa-link"></i></a><a href="#BGP-4的四种报文" class="headerlink" title="BGP-4的四种报文"></a>BGP-4的四种报文</h4>
      <ol>
<li>OPEN(打开)报文：用来与相邻的另一个BGO发言人建立关系，并认证发送方。</li>
<li>UPDATE(更新)报文：通告新路径或撤销原路径。</li>
<li>KEEPALIVE(保活)报文：在无UPDATE时，周期性正式邻站的连通性；也作为OPEN的确认。</li>
<li>NOTIFICATION(通知)报文：报告先前报文的差错；也被用于关闭连接。</li>
</ol>

        <h4 id="三种路由协议比较"   >
          <a href="#三种路由协议比较" class="heading-link"><i class="fas fa-link"></i></a><a href="#三种路由协议比较" class="headerlink" title="三种路由协议比较"></a>三种路由协议比较</h4>
      <p>RIP是一种分布式的基于距离向量的内部网关路由选择协议，通过广播UDP报文来交换路由信息。</p>
<p>OSPF是一个内部网关协议，要交换的信息量较大，应使报文的长度尽量短，所以不使用传输层协议(如UDP或TCP)，而是直接采用IP。</p>
<p>BGP是一个外部网关协议，在不同的自治系统之间交换路由信息，由于网络环境复杂，需要保证可靠传输，所以采用TCP。</p>

        <h2 id="4-6-IP组播"   >
          <a href="#4-6-IP组播" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-6-IP组播" class="headerlink" title="4.6 IP组播"></a>4.6 IP组播</h2>
      
        <h3 id="IP数据报的三种传输方式"   >
          <a href="#IP数据报的三种传输方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP数据报的三种传输方式" class="headerlink" title="IP数据报的三种传输方式"></a>IP数据报的三种传输方式</h3>
      <ul>
<li>单播<ul>
<li>单播用于发送数据包到单个目的地址，且每发送一份单播报文都使用一个单播IP地址作为目的地址。是一种<strong>点对点</strong>传输方式。</li>
</ul>
</li>
<li>广播<ul>
<li>广播是指发送数据包到同一广播域或子网内的所有设备的一种数据传输方式，是一种<strong>点对多点</strong>的传输方式。</li>
</ul>
</li>
<li>组播(多播)<ul>
<li>当网络中的某些用户需要特定数据时，组播数据发送者仅发送一次数据，借助组播路由协议为组播数据包建立组播发送树，被传递的数据到达距离用户端尽可能近的节点后才开始复制和分发，是一种<strong>点对多点</strong>传输。</li>
</ul>
</li>
</ul>

        <h2 id="IP组播地址"   >
          <a href="#IP组播地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP组播地址" class="headerlink" title="IP组播地址"></a>IP组播地址</h2>
      <p>IP组播地址让源设备能够分组发送给一组设备。属于多播组的设备将被分配一个组播IP地址(一群共同需求主机的相同标识)。</p>
<p>组播地址范围为224.0.0.0~239.255.255.255，一个D类地址表示一个组播组。只能用作分组的<strong>目的地址</strong>。源地址总是为单播地址。</p>
<ol>
<li>组播数据报也是“尽最大努力交付”，不提供可靠交付，应用于UDP。</li>
<li>对组播数据报不产生ICMP差错报文。</li>
<li>并非所有D类地址都可以作为组播地址。</li>
</ol>

        <h3 id="硬件组播"   >
          <a href="#硬件组播" class="heading-link"><i class="fas fa-link"></i></a><a href="#硬件组播" class="headerlink" title="硬件组播"></a>硬件组播</h3>
      <p>同单播地址一样，组播IP地址也需要相应的组播MAC地址在本地网络中实际传送帧。组播MAC地址以十六进制值01-00-5E打头，余下的6个十六进制位是根据IP组播组地址的最后23位转换得到的。</p>
<p>收到多播数据报的主机，还要在IP层利用软件进行过滤，把不是本主机要接收的数据报丢弃。</p>

        <h3 id="IGMP协议与组播路由选择协议"   >
          <a href="#IGMP协议与组播路由选择协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#IGMP协议与组播路由选择协议" class="headerlink" title="IGMP协议与组播路由选择协议"></a>IGMP协议与组播路由选择协议</h3>
      
        <h3 id="网际组管理协议IGMP"   >
          <a href="#网际组管理协议IGMP" class="heading-link"><i class="fas fa-link"></i></a><a href="#网际组管理协议IGMP" class="headerlink" title="网际组管理协议IGMP"></a>网际组管理协议IGMP</h3>
      <p>IGMP协议让路由器知道本局域网上**是否有主机(的进程)**参加或退出了某个组播组。</p>
<p>ICMP和IGMP都使用IP数据报传递报文。</p>

        <h3 id="IGMP工作的两个阶段"   >
          <a href="#IGMP工作的两个阶段" class="heading-link"><i class="fas fa-link"></i></a><a href="#IGMP工作的两个阶段" class="headerlink" title="IGMP工作的两个阶段"></a>IGMP工作的两个阶段</h3>
      <p>某主机要加入组播组时，该主机向组播组的组播地址发送一个IGMP报文，声明自己要成为该组的成员。</p>
<p>本地组播服务器收到IGMP报文后，要利用组播路由选择协议把这组成员关系发给因特网上的其他组播路由器。</p>
<p>本地组播路由器周期性探询本地局域网上的主机，以便知道这些主机是否还是组播组的成员。</p>
<p>只要有一个主机对某个组响应，那么组播路由器就认为这个组是活跃的；如果胫骨哦几次探询后没有一个主机响应，组播路由器就认为本网络上的没有此组播组的主机，因此就不会把这组的成员关系发送给其他的组播路由器。</p>
<p>组播路由器知道的成员关系只是所连接的局域网中有无组播组的成员。</p>

        <h3 id="组播路由选择协议"   >
          <a href="#组播路由选择协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#组播路由选择协议" class="headerlink" title="组播路由选择协议"></a>组播路由选择协议</h3>
      <p>组播路由选择协议的目的是找出以源主机为根节点的组播转发树。</p>
<p>构造树可以避免在路由器之间兜圈子。</p>
<p>对不同的多播组对应于不同的多播转发树；同一个多播组，对不同的源点也会有不同的多播转发树。</p>
<ul>
<li>组播路由选择协议常使用的三种算法<ul>
<li>基于链路状态的路由选择</li>
<li>基于距离-向量的路由选择</li>
<li>协议无关的组播(稀疏/密集)</li>
</ul>
</li>
</ul>

        <h2 id="4-7-移动IP"   >
          <a href="#4-7-移动IP" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-7-移动IP" class="headerlink" title="4.7 移动IP"></a>4.7 移动IP</h2>
      <p>移动IP技术是移动结点(计算机/服务器等)以<strong>固定的网络IP地址</strong>，实现跨越不同网段的漫游功能，并保证了基于网络IP的网络权限在漫游过程中不发生任何改变。</p>
<p>移动结点：具有永久IP地址的移动设备</p>
<p>归属代理(本地代理)：一个移动结点拥有的就“居所”称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理。</p>
<p>外部代理(外地代理)：在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</p>
<p>永久地址(归属地址/主地址)：移动站点在归属网络中的原始地址。</p>
<p>转交地址(辅地址)：移动站点在外部网络使用的临时地址。</p>

        <h2 id="4-8-网络层设备"   >
          <a href="#4-8-网络层设备" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-8-网络层设备" class="headerlink" title="4.8 网络层设备"></a>4.8 网络层设备</h2>
      
        <h3 id="路由器"   >
          <a href="#路由器" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h3>
      <p>路由器是一种具有多个输入端口和多个输出端口的专用计算机，其任务是转发分组。</p>
<p>根据选定的路由选择协议构造出路由表，同时经常或定期地和相邻路由器交换路由信息而不断地更新和维护路由表。</p>
<p>交换结构：根据转发表对分组进行转发</p>
<p>若收到RIP/OSPF分组等，则把分组送往路由选择处理机；若收到数据分组，则查找转发表并输出。</p>

        <h3 id="输入端口对线路上收到的分组处理"   >
          <a href="#输入端口对线路上收到的分组处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#输入端口对线路上收到的分组处理" class="headerlink" title="输入端口对线路上收到的分组处理"></a>输入端口对线路上收到的分组处理</h3>
      <p>输入端口中的查找和转发功能在路由器的交换功能中是最重要的</p>

        <h3 id="输出端口将交换结构传送来的分组发送到线路"   >
          <a href="#输出端口将交换结构传送来的分组发送到线路" class="heading-link"><i class="fas fa-link"></i></a><a href="#输出端口将交换结构传送来的分组发送到线路" class="headerlink" title="输出端口将交换结构传送来的分组发送到线路"></a>输出端口将交换结构传送来的分组发送到线路</h3>
      <p>若路由器处理分组的速率赶不上分组进入队列的速率，则队列的存储空间最终必定减少到零，这就使后面再进入队列的分组由于没有存储空间而只能被丢弃。</p>
<p>路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因。</p>

        <h3 id="三层设备的区别"   >
          <a href="#三层设备的区别" class="heading-link"><i class="fas fa-link"></i></a><a href="#三层设备的区别" class="headerlink" title="三层设备的区别"></a>三层设备的区别</h3>
      <ul>
<li>路由器：可以互连两个不同网络层协议的网段</li>
<li>网桥：可以互联两个物理层和链路层不同的设备</li>
<li>集线器：不能互连两个物理层不同的网段。</li>
</ul>

        <h3 id="路由表与路由转发"   >
          <a href="#路由表与路由转发" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由表与路由转发" class="headerlink" title="路由表与路由转发"></a>路由表与路由转发</h3>
      <p>路由表根据<strong>路由选择算法</strong>得出的，主要用途是路由选择，总用软件来实现。</p>
<p>转发表由<strong>路由表</strong>得来，可以用软件实现，也可以用特殊的硬件来实现。转发表必须包含完成转发功能所必须的信息，在转发表的每一行必须包含从要到达的目的网络到输出端口和某些MAC地址信息的映射。</p>

        <h1 id="第5章——传输层"   >
          <a href="#第5章——传输层" class="heading-link"><i class="fas fa-link"></i></a><a href="#第5章——传输层" class="headerlink" title="第5章——传输层"></a>第5章——传输层</h1>
      
        <h2 id="5-1-传输层概述"   >
          <a href="#5-1-传输层概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-传输层概述" class="headerlink" title="5.1 传输层概述"></a>5.1 传输层概述</h2>
      <p>只有主机才有的层次</p>
<p>为应用层提供通信服务，使用网络层的服务</p>
<ul>
<li>传输层的功能：<ul>
<li>传输层提供进程和进程之间的逻辑通信<ul>
<li>网络层提供主机和主机之间的逻辑通信</li>
</ul>
</li>
<li>复用和分用</li>
<li>传输层对收到的报文进行差错检测</li>
<li>传输层的两种协议</li>
</ul>
</li>
</ul>

        <h3 id="传输层的两个协议"   >
          <a href="#传输层的两个协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#传输层的两个协议" class="headerlink" title="传输层的两个协议"></a>传输层的两个协议</h3>
      <ol>
<li>TCP<ul>
<li>面向连接的传输控制协议</li>
<li>可靠传输</li>
<li>传送数据之前必须建立连接，数据传送结束后释放连接。不提供广播或多播服务。由于TCP要提供可靠的面向连接的传输服务，因此不可避免增加了许多开销：确认、流量控制、计时器及连接管理等。</li>
<li>可靠，面向连接，饰演大，适用于大文件</li>
</ul>
</li>
<li>UDP<ul>
<li>无连接的用户数据报协议</li>
<li>传送数据之前不需要建立连接，收到UDP报文后也不需要给出任何确认</li>
<li>不可靠。无连接，时延小，适用于小文件</li>
</ul>
</li>
</ol>

        <h3 id="传输层的寻址与端口"   >
          <a href="#传输层的寻址与端口" class="heading-link"><i class="fas fa-link"></i></a><a href="#传输层的寻址与端口" class="headerlink" title="传输层的寻址与端口"></a>传输层的寻址与端口</h3>
      <ul>
<li>复用：应用层所有的应用进程都可以通过传输层再传输到网络层</li>
<li>分用：传输层从网络层收到数据后交付指明的应用进程。</li>
</ul>
<p>端口：是传输层的SAP，标识主机中的应用进程</p>
<p>逻辑端口/软件端口</p>
<p>端口号只在本地有意义，在因特网中不同计算机的相同端口是没有联系的</p>
<p>端口号长度为16bit，能表示65535个不同的端口号。</p>
<ul>
<li>端口号<ul>
<li>服务端端口号<ul>
<li>熟知端口号(0-1023)<ul>
<li>给TCP/IP最重要的一些应用程序，让所有用户都知道。</li>
</ul>
</li>
<li>登记端口号(1024-49151)<ul>
<li>为没有熟知端口号的应用程序使用的。</li>
</ul>
</li>
</ul>
</li>
<li>客户端使用的端口号(49152-65535)<ul>
<li>仅在客户进程运行时才动态选择</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>在网络中采用发送方和接收方的套接字组合来识别端点，套接字唯一标识了网络中的一个主机和它上面的一个进程。</p>

        <h2 id="5-2-UDP协议"   >
          <a href="#5-2-UDP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-UDP协议" class="headerlink" title="5.2 UDP协议"></a>5.2 UDP协议</h2>
      
        <h3 id="用户数据报协议UDP概述"   >
          <a href="#用户数据报协议UDP概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#用户数据报协议UDP概述" class="headerlink" title="用户数据报协议UDP概述"></a>用户数据报协议UDP概述</h3>
      <p>UDP只在IP数据报服务之上增加了很少功能，即复用分用和差错检测功能。</p>
<ul>
<li>UDP的主要特点：<ul>
<li>无连接，减小了开销和时延</li>
<li>不可靠交付</li>
<li>面向报文的，适合一次性传输少量数据的网络应用</li>
<li>UDP无拥塞控制，适合很多实时应用。</li>
<li>UDP首部开销小，8B，TCP80B</li>
</ul>
</li>
</ul>
<p>流：流入到进程或从进程流出的字节序列。</p>
<p>应用层给UDP多长的报文，UDP就照样发送，即一次发一整个报文。</p>

        <h3 id="UDP校验"   >
          <a href="#UDP校验" class="heading-link"><i class="fas fa-link"></i></a><a href="#UDP校验" class="headerlink" title="UDP校验"></a>UDP校验</h3>
      <p>伪首部：只有在计算机校验和时才出现，不向下传送也不向上递交。</p>
<ul>
<li>在发送端<ol>
<li>填上伪首部</li>
<li>全0填充检验和字段</li>
<li>全0填充数据部分</li>
<li>伪首部+首部+数据部分采用二进制反码求和</li>
<li>把和求反码填入检验和字段</li>
<li>去掉伪首部，发送。</li>
</ol>
</li>
<li>在接收端：<ol>
<li>填上伪首部</li>
<li>伪首部+首部+数据部分采用二进制反码求和</li>
<li>结果全为1则无差错，否则丢弃数据/交给应用程序附上差错的警告</li>
</ol>
</li>
</ul>

        <h2 id="5-3-TCP协议"   >
          <a href="#5-3-TCP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-TCP协议" class="headerlink" title="5.3 TCP协议"></a>5.3 TCP协议</h2>
      
        <h3 id="5-3-1-TCP协议特点和TCP报文段格式"   >
          <a href="#5-3-1-TCP协议特点和TCP报文段格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-1-TCP协议特点和TCP报文段格式" class="headerlink" title="5.3.1 TCP协议特点和TCP报文段格式"></a>5.3.1 TCP协议特点和TCP报文段格式</h3>
      
        <h4 id="TCP协议的特点"   >
          <a href="#TCP协议的特点" class="heading-link"><i class="fas fa-link"></i></a><a href="#TCP协议的特点" class="headerlink" title="TCP协议的特点"></a>TCP协议的特点</h4>
      <ol>
<li>TCP是面向连接(虚连接)的传输层协议</li>
<li>每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的</li>
<li>TCP提供可靠交付的服务，无差错，不丢失，不重复。按序到达</li>
<li>TCP提供全双工通信<ol>
<li>发送缓存：准备发送的数据&amp;已发送但尚未收到确认的数据</li>
<li>接收缓存：按序到达但没有被接受应用程序读取的数据&amp;不按序到达的数据</li>
</ol>
</li>
<li>TCP面向字节流：TCP吧应用程序交小来的数据看成仅仅是一连串的<strong>无结构的字节流</strong>。</li>
</ol>

        <h4 id="TCP报文段首部格式"   >
          <a href="#TCP报文段首部格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#TCP报文段首部格式" class="headerlink" title="TCP报文段首部格式"></a>TCP报文段首部格式</h4>
      <ul>
<li>六个控制位<ul>
<li>紧急位URG</li>
<li>确认位ACK</li>
<li>推送位PSH</li>
<li>复位RST</li>
<li>同步位SYN</li>
<li>终止位FIN</li>
</ul>
</li>
</ul>

        <h3 id="5-3-2-TCP连接管理"   >
          <a href="#5-3-2-TCP连接管理" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-2-TCP连接管理" class="headerlink" title="5.3.2 TCP连接管理"></a>5.3.2 TCP连接管理</h3>
      <p>TCP连接传输三个阶段：连接建立-&gt;数据传送-&gt;连接释放</p>
<p>TCP连接的建立采用<strong>客户服务器方式</strong>，主动发起连接建立的应用程序叫做客户，而被动等待连接建立的应用程序交服务器。</p>

        <h4 id="TCP的连接建立"   >
          <a href="#TCP的连接建立" class="heading-link"><i class="fas fa-link"></i></a><a href="#TCP的连接建立" class="headerlink" title="TCP的连接建立"></a>TCP的连接建立</h4>
      <ol>
<li>客户端发送<strong>连接请求报文段</strong>，无应用层数据。</li>
<li>服务器为该TCP连接<strong>分配缓存和变量</strong>，并向客户端返回<strong>确认报文段</strong>，允许连接，无应用层数据。</li>
<li>客户端为该TCP连接<strong>分配缓存和变量</strong>，并向服务器端返回确认的确认，可以携带数据。</li>
</ol>

        <h4 id="SYN洪泛攻击"   >
          <a href="#SYN洪泛攻击" class="heading-link"><i class="fas fa-link"></i></a><a href="#SYN洪泛攻击" class="headerlink" title="SYN洪泛攻击"></a>SYN洪泛攻击</h4>
      <p>SYN洪泛攻击发生在OSI第四层，这种方式利用TCP协议的特性，就是三次握手。攻击者发送TCP SYN，SYN是TCP三次握手中的<strong>第一个数据包</strong>，而当服务器返回ACK后。该攻击者就不对其进行再确认，那这个TCP连接就处于挂起状态，也就是所谓的半连接状态，服务器就收不到再确认的话，还会重复发送ACK给攻击者。这样更加会浪费服务器的资源。攻击者就对服务器发送非常大量的这种TCP连接，由于每一个都没法完成三次握手，所以在服务器上，这些TCP连接会因为挂起状态而消耗CPU和内存，最后服务器可能死机，就无法为正常用户提供服务了。</p>

        <h4 id="TCP的连接释放"   >
          <a href="#TCP的连接释放" class="heading-link"><i class="fas fa-link"></i></a><a href="#TCP的连接释放" class="headerlink" title="TCP的连接释放"></a>TCP的连接释放</h4>
      <p>参与一条TCP连接的两个进程中的任何一个都能终止该连接，连接结束后，主机中的“资源”(缓存和变量)将被释放。</p>
<ol>
<li>客户端发送<strong>连接释放报文段</strong>，停止发送数据，主动关闭TCP连接。</li>
<li>服务器端回送一个确认报文段，客户到服务器这个方向的连接就释放了。——半关闭状态。</li>
<li>服务器端发完数据，就发出连接释放报文段，主动关闭TCP连接。</li>
<li>客户端回送一个确认报文段，在等到时间等待计时器设置的2MSL(最长报文段寿命)后，连接彻底关闭</li>
</ol>

        <h3 id="5-3-3-TCP可靠传输"   >
          <a href="#5-3-3-TCP可靠传输" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-3-TCP可靠传输" class="headerlink" title="5.3.3 TCP可靠传输"></a>5.3.3 TCP可靠传输</h3>
      <p>可靠：保证接收方进程从缓存区读出的字节流与发送方发出的字节流是完全一致的。</p>

        <h4 id="序号"   >
          <a href="#序号" class="heading-link"><i class="fas fa-link"></i></a><a href="#序号" class="headerlink" title="序号"></a>序号</h4>
      <p>一个字节占一个序号</p>
<p><strong>序号字段</strong>指的是一个报文段第一个字节的序号。</p>

        <h4 id="确认"   >
          <a href="#确认" class="heading-link"><i class="fas fa-link"></i></a><a href="#确认" class="headerlink" title="确认"></a>确认</h4>
      
        <h4 id="重传"   >
          <a href="#重传" class="heading-link"><i class="fas fa-link"></i></a><a href="#重传" class="headerlink" title="重传"></a>重传</h4>
      <p>确认重传不分家。TCP的发送方在规定的时间内没有收到确认就要重传以发送的报文段</p>
<p>TCP采用自适应算法，动态改变重传时间RTTs(加权平均往返时间)</p>
<ul>
<li>冗余ACK(冗余确认)<ul>
<li>每当比期望序号大的失序报文段到达时，发送一个<strong>冗余ACK</strong>，指明下一个期待字节的序号。</li>
</ul>
</li>
</ul>

        <h3 id="5-3-4-TCP流量控制"   >
          <a href="#5-3-4-TCP流量控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-4-TCP流量控制" class="headerlink" title="5.3.4 TCP流量控制"></a>5.3.4 TCP流量控制</h3>
      <p>流量控制：让<strong>发送方慢点</strong>要让接收方来得及接收。</p>
<p>TCP利用滑动窗口机制实现流量控制。</p>
<p>在通信过程中，接收方根据自己接收魂村的大小，动态地调整发送方的发送窗口大小，即接收窗口rwnd(接收方设置确认报文段的窗口字段来将rwnd通知给发送方)，发送方的发送窗口取接收窗口rwnd和拥塞窗口cwnd的最小值。</p>
<p>TCP为每一个连接设有一个持续计时器，只要TCP连接的一方收到对方的零窗口通知，就启动持续计时器。</p>
<p>若持续计时器设置的时间到期，就发送一个零窗口<strong>探测报文段</strong>。接收方收到探测报文段时给出现在的窗口值。</p>
<p>若窗口仍然是0，那么发送方就重新设置持续计时器。</p>

        <h3 id="5-3-5-TCP拥塞控制"   >
          <a href="#5-3-5-TCP拥塞控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-5-TCP拥塞控制" class="headerlink" title="5.3.5 TCP拥塞控制"></a>5.3.5 TCP拥塞控制</h3>
      <p>出现拥塞的条件：对资源需求的总和&gt;可用资源</p>

        <h4 id="拥塞控制四种算法"   >
          <a href="#拥塞控制四种算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#拥塞控制四种算法" class="headerlink" title="拥塞控制四种算法"></a>拥塞控制四种算法</h4>
      <ul>
<li><p>慢开始</p>
</li>
<li><p>拥塞避免</p>
</li>
<li><p>快重传</p>
</li>
<li><p>快恢复</p>
</li>
<li><p>假定</p>
<ol>
<li>数据单方向传送，而另一个方向只传送确认</li>
<li>接收方总是有足够大的缓存空间，因而发送窗口大小取决于拥塞程度</li>
</ol>
<ul>
<li>发送窗口 = Min{接收窗口rwnd，拥塞窗口cwnd}</li>
</ul>
</li>
</ul>
<p>接收窗口：接收方根据接受缓存设置的值，并告知给发送方，反应接收方容量。</p>
<p>拥塞窗口：发送方根据自己估算的网络拥塞程度而设置的窗口值，反应网络当前容量</p>

        <h4 id="慢开始和拥塞避免"   >
          <a href="#慢开始和拥塞避免" class="heading-link"><i class="fas fa-link"></i></a><a href="#慢开始和拥塞避免" class="headerlink" title="慢开始和拥塞避免"></a>慢开始和拥塞避免</h4>
      <ul>
<li>慢开始：指数级增长<ul>
<li>一个传输轮次：发送了一批报文段并收到它们的确认时间</li>
<li>一个往返时延RTT</li>
<li>开始发送一批拥塞窗口内的报文段到开始发送下一批拥塞窗口内的报文段的时间。</li>
</ul>
</li>
<li>拥塞避免：发生拥塞后，发送窗口调至一，重新慢开始直到达到拥塞窗口的一半后使用加法增大</li>
</ul>

        <h4 id="快重传和快恢复"   >
          <a href="#快重传和快恢复" class="heading-link"><i class="fas fa-link"></i></a><a href="#快重传和快恢复" class="headerlink" title="快重传和快恢复"></a>快重传和快恢复</h4>
      <ul>
<li>收到3个重复的确认执行快重传算法</li>
<li>从拥塞窗口一半的数量进行拥塞避免加法增大。</li>
</ul>

        <h1 id="第6章——应用层"   >
          <a href="#第6章——应用层" class="heading-link"><i class="fas fa-link"></i></a><a href="#第6章——应用层" class="headerlink" title="第6章——应用层"></a>第6章——应用层</h1>
      
        <h2 id="6-1-网络应用模型"   >
          <a href="#6-1-网络应用模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-网络应用模型" class="headerlink" title="6.1 网络应用模型"></a>6.1 网络应用模型</h2>
      
        <h3 id="应用层概述"   >
          <a href="#应用层概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#应用层概述" class="headerlink" title="应用层概述"></a>应用层概述</h3>
      <p>应用层对应用程序的通信提供服务。</p>
<ul>
<li><p>应用层协议定义：</p>
<ul>
<li>应用程序交换的报文类型，请求还是响应？</li>
<li>各种报文类型的语法，如报文中的各个字段及其详细描述。</li>
<li>字段的语义，即包含在字段中的信息的含义。</li>
<li>进程何时、如何发送报文，以及对报文进行响应的规则。</li>
</ul>
</li>
<li><p>应用层的功能：</p>
<ul>
<li>文件传输、访问和管理</li>
<li>电子邮件</li>
<li>虚拟终端</li>
<li>查询服务和远程作业登录</li>
</ul>
</li>
<li><p>应用层的重要协议：</p>
<ul>
<li>FTP</li>
<li>SMTP、POP3</li>
<li>HTTP</li>
<li>DNS</li>
</ul>
</li>
</ul>

        <h3 id="网络应用模型"   >
          <a href="#网络应用模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h3>
      <ul>
<li>C/S<ul>
<li>S:<ul>
<li>提供计算机服务的设备</li>
</ul>
<ol>
<li>永久提供服务</li>
<li>永久性访问地址/域名</li>
</ol>
</li>
<li>C:<ul>
<li>请求计算服务的主机</li>
</ul>
<ol>
<li>与服务器通信，使用服务器提供的服务</li>
<li>间歇性接入网络</li>
<li>可能使用动态IP地址</li>
<li>不予其他客户机直接通信</li>
</ol>
</li>
</ul>
</li>
<li>P2P<ul>
<li>不存在永远在线的服务器</li>
<li>每个主机既可以提供服务，也可以请求服务</li>
<li>任意端系统/结点之间可以直接通讯</li>
<li>节点间歇性接入网络</li>
<li>节点可能改变IP地址</li>
<li>可扩展性好</li>
<li>网络健壮性强</li>
</ul>
</li>
</ul>

        <h2 id="6-2-DNS解析系统"   >
          <a href="#6-2-DNS解析系统" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-DNS解析系统" class="headerlink" title="6.2 DNS解析系统"></a>6.2 DNS解析系统</h2>
      <ul>
<li><p>顶级域名</p>
<ul>
<li>国际顶级域名</li>
<li>通用顶级域名</li>
<li>基础结构域名/反向域名</li>
</ul>
</li>
<li><p>二级域名</p>
<ul>
<li>类别域名</li>
<li>行政区域名</li>
</ul>
</li>
<li><p>域名服务器</p>
<ul>
<li>根域名服务器</li>
<li>顶级域名服务器<ul>
<li>管理该顶级域名服务器注册的所有二级域名</li>
</ul>
</li>
<li>权限域名服务器<ul>
<li>负责一个区的域名服务器</li>
</ul>
</li>
<li>本地域名服务器<ul>
<li>当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器。</li>
</ul>
</li>
</ul>
</li>
<li><p>递归查询</p>
</li>
<li><p>迭代查询</p>
</li>
</ul>

        <h2 id="6-3-文件传送协议FTP"   >
          <a href="#6-3-文件传送协议FTP" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-文件传送协议FTP" class="headerlink" title="6.3 文件传送协议FTP"></a>6.3 文件传送协议FTP</h2>
      <ul>
<li><p>文件传送协议FTP</p>
<ul>
<li>提供不同种类主机系统(硬、软件体系等都可以不同)之间文件传输能力</li>
</ul>
</li>
<li><p>简单文件传送协议TFTP</p>
</li>
<li><p>TCP控制连接端口21</p>
<ul>
<li>控制连接始终保持</li>
</ul>
</li>
<li><p>TCP数据连接端口20</p>
<ul>
<li>数据连接保持一会</li>
</ul>
</li>
</ul>
<p>是否使用TCP 20端口建立数据连接与传输模式有关</p>
<p>主动方式使用TCP 20端口</p>
<p>被动方式由服务器和客户端自行协商决定</p>
<ul>
<li>FTP传输模式<ul>
<li>文本模式：ASCII模式，以文本序列传输数据；</li>
<li>二进制模式：Binary模式，以二进制序列传输数据</li>
</ul>
</li>
</ul>

        <h2 id="6-4-电子邮件"   >
          <a href="#6-4-电子邮件" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-4-电子邮件" class="headerlink" title="6.4 电子邮件"></a>6.4 电子邮件</h2>
      
        <h3 id="简单邮件传送协议SMTP"   >
          <a href="#简单邮件传送协议SMTP" class="heading-link"><i class="fas fa-link"></i></a><a href="#简单邮件传送协议SMTP" class="headerlink" title="简单邮件传送协议SMTP"></a>简单邮件传送协议SMTP</h3>
      <p>SMTP规定在两个相互通信的SMTP进程之间应如何交换信息</p>
<p>负责发送邮件的SMTP进程就是SMTP客户，负责接收邮件的进程就是SMTP服务器</p>
<p>SMTP规定了14条命令(几个字母)和21种应答信息(三位数字+简单文字说明)</p>
<p>建立在TCP连接上的，端口号25.C/S</p>
<ul>
<li><p>SMTP通信三个阶段</p>
<ul>
<li>连接建立</li>
<li>邮件传送</li>
<li>连接释放</li>
</ul>
</li>
<li><p>SMTP的缺点：</p>
<ol>
<li>SMTP不能传送可执行文件或其他二进制文件</li>
<li>SMTP仅限于传送7位ASCII码，不能传送其他非英语国家的文字</li>
<li>SMTP服务器会拒绝超过一定长度的邮件</li>
</ol>
</li>
</ul>
<p>通用因特网邮件扩充MIME：是电子邮件系统可以支持声音、图像、视频、多种国家语言等等。</p>

        <h3 id="邮局协议POP3"   >
          <a href="#邮局协议POP3" class="heading-link"><i class="fas fa-link"></i></a><a href="#邮局协议POP3" class="headerlink" title="邮局协议POP3"></a>邮局协议POP3</h3>
      <p>TCP连接，端口号110，C/S</p>
<ul>
<li>工作方式<ul>
<li>下载并保留</li>
<li>下载并删除</li>
</ul>
</li>
</ul>

        <h4 id="网际报文存取协议IMAP"   >
          <a href="#网际报文存取协议IMAP" class="heading-link"><i class="fas fa-link"></i></a><a href="#网际报文存取协议IMAP" class="headerlink" title="网际报文存取协议IMAP"></a>网际报文存取协议IMAP</h4>
      <p>IMAP协议比POP协议复杂。当用户Pc上的IMAP客户程序打开IMAP服务器的邮箱时，用户可以看到邮箱的首部，若用户需要打开某个邮件，该邮件才上传到用户的计算机上。</p>
<p>IMAP可以让用户在不同的地方使用不同的计算机随时上网阅读处理邮件，还允许只读取邮件中的某一个部分(先看正文，有WIFI的时候在下载附件)。</p>

        <h2 id="6-5-万维网和HTTP协议"   >
          <a href="#6-5-万维网和HTTP协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-5-万维网和HTTP协议" class="headerlink" title="6.5 万维网和HTTP协议"></a>6.5 万维网和HTTP协议</h2>
      
        <h3 id="万维网概述"   >
          <a href="#万维网概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#万维网概述" class="headerlink" title="万维网概述"></a>万维网概述</h3>
      <p>万维网WW是一个大规模的联机式的信息储藏所/资源空间，是无数个网络站点和网页的集合。</p>
<p>统一资源定位符URL</p>

        <h3 id="超文本传输协议HTTP"   >
          <a href="#超文本传输协议HTTP" class="heading-link"><i class="fas fa-link"></i></a><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h3>
      <p>HTTP协议定义了浏览器(万维网客户进程)怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器。</p>
<ul>
<li>具体过程<ol>
<li>浏览器分析URL</li>
<li>浏览器向DNS请求解析地址</li>
<li>DNS解析出IP地址</li>
<li>浏览器与服务器建立TCP连接</li>
<li>浏览器发出取文件命令</li>
<li>服务器响应</li>
<li>释放TCP连接</li>
<li>浏览器显示</li>
</ol>
</li>
</ul>

        <h3 id="HTTP协议的特点"   >
          <a href="#HTTP协议的特点" class="heading-link"><i class="fas fa-link"></i></a><a href="#HTTP协议的特点" class="headerlink" title="HTTP协议的特点"></a>HTTP协议的特点</h3>
      <p>HTTP协议是无状态的</p>

        <h1 id="完结"   >
          <a href="#完结" class="heading-link"><i class="fas fa-link"></i></a><a href="#完结" class="headerlink" title="完结"></a>完结</h1>
      </div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://blog.gddfeng.com">gddFeng</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://blog.gddfeng.com/Major-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%8E%8B%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/">http://blog.gddfeng.com/Major-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%8E%8B%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://blog.gddfeng.com/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://blog.gddfeng.com/tags/%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/">课堂笔记</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://blog.gddfeng.com/tags/%E8%80%83%E7%A0%94%E5%AD%A6%E4%B9%A0/">考研学习</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/notebooks-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">计算机网络随堂笔记</span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">
          第1章——计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">
          1.1 计算机网络概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5%E3%80%81%E7%BB%84%E6%88%90%E3%80%81%E5%8A%9F%E8%83%BD%E5%92%8C%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          1. 概念、组成、功能和分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%BB%84%E7%BB%87"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          2. 计算机网络标准化工作及相关组织</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">
          标准化工作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RFC%E5%8F%8A%E5%85%B6%E5%8F%91%E5%B1%95%E4%B8%BA%E5%9B%A0%E7%89%B9%E7%BD%91%E6%A0%87%E5%87%86%E7%9A%84%E5%9B%9B%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">
          RFC及其发展为因特网标准的四个阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C%E7%9A%84%E7%9B%B8%E5%85%B3%E7%BB%84%E7%BB%87"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">
          标准化工作的相关组织</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E4%B9%8B%E9%80%9F%E7%8E%87%E3%80%81%E5%B8%A6%E5%AE%BD%E3%80%81%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.1.3.</span> <span class="toc-text">
          3.性能指标之速率、带宽、吞吐量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9F%E7%8E%87"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">
          速率</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">
          带宽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">
          吞吐量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%97%B6%E5%BB%B6%E3%80%81%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF%E3%80%81RTT%E5%92%8C%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.1.4.</span> <span class="toc-text">
          4. 时延、时延带宽积、RTT和利用率</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">
          时延</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">
          时延带宽积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%80%E8%BF%94%E6%97%B6%E5%BB%B6RTT-roud-trip-time"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">
          往返时延RTT(roud trip time)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">
          利用率</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%8E%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">
          1.2 计算机网络体系结构与参考模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84%E3%80%81%E5%8D%8F%E8%AE%AE%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          1. 分层结构、协议、接口、服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%88%86%E5%B1%82%EF%BC%9F"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">
          为什么要分层？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E5%88%86%E5%B1%82%EF%BC%9F"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">
          怎么分层？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%BC%8F%E8%AE%A4%E8%AF%86%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">
          正式认识分层结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">
          概念总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">
          2. OSI参考模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ISO-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E6%9D%A5%E7%9A%84%EF%BC%9F"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">
          ISO&#x2F;OSI参考模型——怎么来的？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ISO-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">
          ISO&#x2F;OSI参考模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">
          应用层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%A4%BA%E5%B1%82"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">
          表示层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E5%B1%82"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">
          会话层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">
          传输层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.2.2.7.</span> <span class="toc-text">
          网络层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.2.2.8.</span> <span class="toc-text">
          数据链路层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.2.2.9.</span> <span class="toc-text">
          物理层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-TCP-IP%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B%E5%92%8C5%E5%B1%82%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">
          3. TCP&#x2F;IP参考模型和5层参考模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#OSI%E5%92%8CTCP-IP%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B%E7%9B%B8%E5%90%8C%E7%82%B9"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">
          OSI和TCP&#x2F;IP参考模型相同点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSI%E6%A8%A1%E5%9E%8B%E4%B8%8ETCP-IP%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%8D%E5%90%8C%E7%82%B9"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">
          OSI模型与TCP&#x2F;IP模型的不同点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E5%B1%82%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">
          5层参考模型</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0%E2%80%94%E2%80%94%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">
          第2章——物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">
          2.1 通信基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%89%A9%E7%90%86%E5%B1%82%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.1.</span> <span class="toc-text">
          1. 物理层的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.1.2.</span> <span class="toc-text">
          2. 数据通信基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">
          数据通信相关术语</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">
          三种通信方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">
          两种数据传输方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%A0%81%E5%85%83%E3%80%81%E6%B3%A2%E7%89%B9%E3%80%81%E9%80%9F%E7%8E%87%E3%80%81%E5%B8%A6%E5%AE%BD"><span class="toc-number">2.1.3.</span> <span class="toc-text">
          3. 码元、波特、速率、带宽</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%81%E5%85%83"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">
          码元</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9F%E7%8E%87%E3%80%81%E6%B3%A2%E7%89%B9%E3%80%81%E5%B8%A6%E5%AE%BD"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">
          速率、波特、带宽</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A5%88%E6%B0%8F%E5%87%86%E5%88%99%E5%92%8C%E9%A6%99%E5%86%9C%E5%AE%9A%E7%90%86"><span class="toc-number">2.1.4.</span> <span class="toc-text">
          4. 奈氏准则和香农定理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%B1%E7%9C%9F"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">
          失真</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%B1%E7%9C%9F%E7%9A%84%E4%B8%80%E7%A7%8D%E7%8E%B0%E8%B1%A1%E2%80%94%E2%80%94%E7%A0%81%E9%97%B4%E4%B8%B2%E6%89%B0"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">
          失真的一种现象——码间串扰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%88%E6%B0%8F%E5%87%86%E4%BE%A7-%E5%A5%88%E5%A5%8E%E6%96%AF%E7%89%B9%E5%AE%9A%E7%90%86"><span class="toc-number">2.1.4.3.</span> <span class="toc-text">
          奈氏准侧(奈奎斯特定理)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%99%E5%86%9C%E5%AE%9A%E7%90%86"><span class="toc-number">2.1.4.4.</span> <span class="toc-text">
          香农定理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%88%E6%B0%8F%E5%92%8C%E9%A6%99%E5%86%9C%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9"><span class="toc-number">2.1.4.5.</span> <span class="toc-text">
          奈氏和香农如何选择</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%BC%96%E7%A0%81-amp-%E8%B0%83%E5%88%B6"><span class="toc-number">2.1.5.</span> <span class="toc-text">
          5. 编码&amp;调制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E5%B8%A6%E4%BF%A1%E5%8F%B7%E4%B8%8E%E5%AE%BD%E5%B8%A6%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">
          基带信号与宽带信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">
          编码与调制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E4%B8%BA%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.1.5.3.</span> <span class="toc-text">
          数字数据编码为数字信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E8%B0%83%E5%88%B6%E4%B8%BA%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.1.5.4.</span> <span class="toc-text">
          数字信号调制为模拟信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E4%B8%BA%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.1.5.5.</span> <span class="toc-text">
          模拟数据编码为数字信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E6%95%B0%E6%8D%AE%E8%B0%83%E5%88%B6%E4%B8%BA%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.1.5.6.</span> <span class="toc-text">
          模拟数据调制为模拟信号</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E7%89%A9%E7%90%86%E5%B1%82%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="toc-number">2.2.</span> <span class="toc-text">
          2.2 物理层传输介质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-number">2.2.1.</span> <span class="toc-text">
          传输介质及分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%90%91%E6%80%A7%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8%E2%80%94%E2%80%94%E5%8F%8C%E7%BB%9E%E7%BA%BF"><span class="toc-number">2.2.2.</span> <span class="toc-text">
          导向性传输介质——双绞线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%90%91%E6%80%A7%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8%E2%80%94%E2%80%94%E5%90%8C%E8%BD%B4%E7%94%B5%E7%BC%86"><span class="toc-number">2.2.3.</span> <span class="toc-text">
          导向性传输介质——同轴电缆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%90%91%E6%80%A7%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8%E2%80%94%E2%80%94%E5%85%89%E7%BA%A4"><span class="toc-number">2.2.4.</span> <span class="toc-text">
          导向性传输介质——光纤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%AF%BC%E5%90%91%E6%80%A7%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="toc-number">2.2.5.</span> <span class="toc-text">
          非导向性传输介质</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E7%89%A9%E7%90%86%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">2.3.</span> <span class="toc-text">
          2.3 物理层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E7%BB%A7%E5%99%A8"><span class="toc-number">2.3.1.</span> <span class="toc-text">
          中继器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8-%E5%A4%9A%E5%8F%A3%E4%B8%AD%E7%BB%A7%E5%99%A8"><span class="toc-number">2.3.2.</span> <span class="toc-text">
          集线器(多口中继器)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">
          第3章——数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">
          3.1 数据链路层功能概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.1.</span> <span class="toc-text">
          数据链路层基本概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7%E5%92%8C%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">3.2.</span> <span class="toc-text">
          3.2 封装成帧和透明传输</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-number">3.2.1.</span> <span class="toc-text">
          封装成帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">3.2.2.</span> <span class="toc-text">
          透明传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AD%97%E7%AC%A6%E8%AE%A1%E7%AE%97%E6%B3%95"><span class="toc-number">3.2.3.</span> <span class="toc-text">
          1. 字符计算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E5%A1%AB%E5%85%85%E6%B3%95"><span class="toc-number">3.2.4.</span> <span class="toc-text">
          2. 字符填充法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%9B%B6%E6%AF%94%E7%89%B9%E5%A1%AB%E5%85%85%E6%B3%95"><span class="toc-number">3.2.5.</span> <span class="toc-text">
          3. 零比特填充法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%9D%E8%A7%84%E7%BC%96%E7%A0%81"><span class="toc-number">3.2.6.</span> <span class="toc-text">
          4. 违规编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-number">3.3.</span> <span class="toc-text">
          3.3 差错控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">3.3.1.</span> <span class="toc-text">
          3.3.1 检错编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E4%BB%8E%E4%BD%95%E8%80%8C%E6%9D%A5%EF%BC%9F"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">
          差错从何而来？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">
          奇偶校验码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CRC%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E7%A0%81"><span class="toc-number">3.3.1.3.</span> <span class="toc-text">
          CRC循环冗余码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">3.3.2.</span> <span class="toc-text">
          3.3.2 纠错编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%B7%E6%98%8E%E7%A0%81"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">
          海明码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="toc-number">3.4.</span> <span class="toc-text">
          3.4 流量控制与可靠传输机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="toc-number">3.4.1.</span> <span class="toc-text">
          3.4.1 流量控制与可靠传输机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">
          数据链路层的流量控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.1.2.</span> <span class="toc-text">
          流量控制方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E3%80%81%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E3%80%81%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">3.4.1.3.</span> <span class="toc-text">
          可靠传输、滑动窗口、流量控制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.4.2.</span> <span class="toc-text">
          3.4.2 停止等待协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">
          停止等待协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%B7%AE%E9%94%99%E6%83%85%E5%86%B5"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">
          无差错情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%B7%AE%E9%94%99%E6%83%85%E5%86%B5"><span class="toc-number">3.4.2.3.</span> <span class="toc-text">
          有差错情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E7%AD%89%E5%8D%8F%E8%AE%AE%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">3.4.2.4.</span> <span class="toc-text">
          停等协议性能分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">3.4.2.5.</span> <span class="toc-text">
          信道利用率</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-3-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE-SR"><span class="toc-number">3.4.3.</span> <span class="toc-text">
          3.4.3 选择重传协议(SR)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GBN%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%BC%8A%E7%AB%AF"><span class="toc-number">3.4.3.1.</span> <span class="toc-text">
          GBN协议的弊端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE%E4%B8%AD%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-number">3.4.3.2.</span> <span class="toc-text">
          选择重传协议中的滑动窗口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SR%E5%8F%91%E9%80%81%E6%96%B9%E5%BF%85%E9%A1%BB%E5%93%8D%E5%BA%94%E7%9A%84%E4%B8%89%E4%BB%B6%E4%BA%8B"><span class="toc-number">3.4.3.3.</span> <span class="toc-text">
          SR发送方必须响应的三件事</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SR%E6%8E%A5%E6%94%B6%E6%96%B9%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B"><span class="toc-number">3.4.3.4.</span> <span class="toc-text">
          SR接收方要做的事</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E9%95%BF%E5%BA%A6"><span class="toc-number">3.4.3.5.</span> <span class="toc-text">
          滑动窗口长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SR%E5%8D%8F%E8%AE%AE%E9%87%8D%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">3.4.3.6.</span> <span class="toc-text">
          SR协议重点总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-4-%E5%90%8E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE-GBN"><span class="toc-number">3.4.4.</span> <span class="toc-text">
          3.4.4 后退N帧协议(GBN)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E4%B8%AD%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-number">3.4.4.1.</span> <span class="toc-text">
          后退N帧协议中的滑动窗口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GBN%E5%8F%91%E9%80%81%E6%96%B9%E5%BF%85%E9%A1%BB%E7%9B%B8%E5%BA%94%E7%9A%84%E4%B8%89%E4%BB%B6%E4%BA%8B"><span class="toc-number">3.4.4.2.</span> <span class="toc-text">
          GBN发送方必须相应的三件事</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GBN%E6%8E%A5%E6%94%B6%E6%96%B9%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B"><span class="toc-number">3.4.4.3.</span> <span class="toc-text">
          GBN接收方要做的事</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E9%95%BF%E5%BA%A6-1"><span class="toc-number">3.4.4.4.</span> <span class="toc-text">
          滑动窗口长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GBN%E5%8D%8F%E8%AE%AE%E9%87%8D%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">3.4.4.5.</span> <span class="toc-text">
          GBN协议重点总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.5.</span> <span class="toc-text">
          3.5 介质访问控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-1-%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.5.1.</span> <span class="toc-text">
          3.5.1 信道划分介质访问控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E7%9A%84%E4%B8%A4%E7%A7%8D%E9%93%BE%E8%B7%AF"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">
          传输数据使用的两种链路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.5.1.2.</span> <span class="toc-text">
          介质访问控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.5.1.3.</span> <span class="toc-text">
          信道划分介质访问控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%91%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8FDM"><span class="toc-number">3.5.1.4.</span> <span class="toc-text">
          频分多路复用FDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8TDM"><span class="toc-number">3.5.1.5.</span> <span class="toc-text">
          时分多路复用TDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%97%B6%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8STDM"><span class="toc-number">3.5.1.6.</span> <span class="toc-text">
          统计时分多路复用STDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A2%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8WDM"><span class="toc-number">3.5.1.7.</span> <span class="toc-text">
          波分多路复用WDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%81%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8CDM"><span class="toc-number">3.5.1.8.</span> <span class="toc-text">
          码分多路复用CDM</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-2-ALOHA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.2.</span> <span class="toc-text">
          3.5.2 ALOHA协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-3-CSMA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.3.</span> <span class="toc-text">
          3.5.3 CSMA协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9D%9A%E6%8C%81CSMA"><span class="toc-number">3.5.3.1.</span> <span class="toc-text">
          1-坚持CSMA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%9D%9A%E6%8C%81CSMA"><span class="toc-number">3.5.3.2.</span> <span class="toc-text">
          非坚持CSMA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#p-%E5%9D%9A%E6%8C%81CSMA"><span class="toc-number">3.5.3.3.</span> <span class="toc-text">
          p-坚持CSMA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-4-%E8%BD%AE%E8%AF%A2%E8%AE%BF%E9%97%AE%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.5.4.</span> <span class="toc-text">
          3.5.4 轮询访问介质访问控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AE%E8%AF%A2%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.4.1.</span> <span class="toc-text">
          轮询协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A4%E7%89%8C%E4%BC%A0%E9%80%92%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.4.2.</span> <span class="toc-text">
          令牌传递协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-5-CSMA-CA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.5.</span> <span class="toc-text">
          3.5.5 CSMA-CA协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CSMA-CA%E5%8D%8F%E8%AE%AE%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.5.5.1.</span> <span class="toc-text">
          CSMA&#x2F;CA协议工作原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSMA-CD%E4%B8%8ECSMA-CA"><span class="toc-number">3.5.5.2.</span> <span class="toc-text">
          CSMA&#x2F;CD与CSMA&#x2F;CA</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">3.6.</span> <span class="toc-text">
          3.6 局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-1-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.6.1.</span> <span class="toc-text">
          3.6.1 局域网基本概念和体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">3.6.1.1.</span> <span class="toc-text">
          局域网</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84"><span class="toc-number">3.6.1.2.</span> <span class="toc-text">
          局域网拓扑结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="toc-number">3.6.1.3.</span> <span class="toc-text">
          局域网传输介质</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">3.6.1.4.</span> <span class="toc-text">
          局域网介质访问控制方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.6.1.5.</span> <span class="toc-text">
          局域网的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IEEE-802%E6%A0%87%E5%87%86"><span class="toc-number">3.6.1.6.</span> <span class="toc-text">
          IEEE 802标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MAC%E5%AD%90%E5%B1%82%E5%92%8CLLC%E5%AD%90%E5%B1%82"><span class="toc-number">3.6.1.7.</span> <span class="toc-text">
          MAC子层和LLC子层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-2-%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.6.2.</span> <span class="toc-text">
          3.6.2 以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%A6%82%E8%BF%B0"><span class="toc-number">3.6.2.1.</span> <span class="toc-text">
          以太网概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%B8%A4%E4%B8%AA%E6%A0%87%E5%87%86"><span class="toc-number">3.6.2.2.</span> <span class="toc-text">
          以太网两个标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8F%90%E4%BE%9B%E6%97%A0%E8%BF%9E%E6%8E%A5%E3%80%81%E4%B8%8D%E5%8F%AF%E9%9D%A0%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.6.2.3.</span> <span class="toc-text">
          以太网提供无连接、不可靠的服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8%E4%B8%8E%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84%E7%9A%84%E5%8F%91%E5%B1%95"><span class="toc-number">3.6.2.4.</span> <span class="toc-text">
          以太网传输介质与拓扑结构的发展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10BASE-T%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.6.2.5.</span> <span class="toc-text">
          10BASE-T以太网</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E4%B8%8EMAC%E5%9C%B0%E5%9D%80"><span class="toc-number">3.6.2.6.</span> <span class="toc-text">
          适配器与MAC地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91MAC%E5%B8%A7"><span class="toc-number">3.6.2.7.</span> <span class="toc-text">
          以太网MAC帧</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.6.2.8.</span> <span class="toc-text">
          高速以太网</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-3-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">3.6.3.</span> <span class="toc-text">
          3.6.3 无线局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IEEE-802-11"><span class="toc-number">3.6.3.1.</span> <span class="toc-text">
          IEEE 802.11</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11%E7%9A%84MAC%E5%B8%A7%E5%A4%B4%E6%A0%BC%E5%BC%8F"><span class="toc-number">3.6.3.2.</span> <span class="toc-text">
          802.11的MAC帧头格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.6.3.3.</span> <span class="toc-text">
          无线局域网的分类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-4-CSMA-CD%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.6.4.</span> <span class="toc-text">
          3.6.4 CSMA&#x2F;CD协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%85%88%E5%90%AC%E5%90%8E%E5%8F%91%E8%BF%98%E4%BC%9A%E5%86%B2%E7%AA%81%EF%BC%9F"><span class="toc-number">3.6.4.1.</span> <span class="toc-text">
          为什么先听后发还会冲突？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E6%92%AD%E6%97%B6%E5%BB%B6%E5%AF%B9%E8%BD%BD%E6%B3%A2%E7%9B%91%E5%90%AC%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">3.6.4.2.</span> <span class="toc-text">
          传播时延对载波监听的影响</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%A1%AE%E5%AE%9A%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E9%87%8D%E4%BC%A0%E6%97%B6%E6%9C%BA"><span class="toc-number">3.6.4.3.</span> <span class="toc-text">
          如何确定碰撞后的重传时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E5%B8%A7%E9%95%BF%E9%97%AE%E9%A2%98"><span class="toc-number">3.6.4.4.</span> <span class="toc-text">
          最小帧长问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-PPP%E5%8D%8F%E8%AE%AE%E5%92%8CHDLC%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.</span> <span class="toc-text">
          3.7 PPP协议和HDLC协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E5%9F%9F%E7%BD%91"><span class="toc-number">3.7.1.</span> <span class="toc-text">
          广域网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.2.</span> <span class="toc-text">
          PPP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE%E5%BA%94%E6%BB%A1%E8%B6%B3%E7%9A%84%E8%A6%81%E6%B1%82"><span class="toc-number">3.7.2.1.</span> <span class="toc-text">
          PPP协议应满足的要求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE%E6%97%A0%E9%9C%80%E6%BB%A1%E8%B6%B3%E7%9A%84%E8%A6%81%E6%B1%82"><span class="toc-number">3.7.2.2.</span> <span class="toc-text">
          PPP协议无需满足的要求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%B8%89%E4%B8%AA%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">3.7.2.3.</span> <span class="toc-text">
          PPP协议的三个组成部分</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HDLC%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.3.</span> <span class="toc-text">
          HDLC协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HDLC%E7%9A%84%E7%AB%99"><span class="toc-number">3.7.3.1.</span> <span class="toc-text">
          HDLC的站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HDLC%E7%9A%84%E5%B8%A7%E6%A0%BC%E5%BC%8F"><span class="toc-number">3.7.3.2.</span> <span class="toc-text">
          HDLC的帧格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE-amp-HDLC%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.7.4.</span> <span class="toc-text">
          PPP协议&amp;HDLC协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">3.8.</span> <span class="toc-text">
          3.8 链路层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82%E6%89%A9%E5%B1%95%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.8.1.</span> <span class="toc-text">
          物理层扩展以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E6%89%A9%E5%B1%95%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.8.2.</span> <span class="toc-text">
          链路层扩展以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E6%A1%A5%E5%88%86%E7%B1%BB%E2%80%94%E2%80%94%E9%80%8F%E6%98%8E%E7%BD%91%E6%A1%A5"><span class="toc-number">3.8.3.</span> <span class="toc-text">
          网桥分类——透明网桥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E6%A1%A5%E5%88%86%E7%B1%BB%E2%80%94%E2%80%94%E6%BA%90%E8%B7%AF%E7%94%B1%E7%BD%91%E6%A1%A5"><span class="toc-number">3.8.4.</span> <span class="toc-text">
          网桥分类——源路由网桥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%8E%A5%E5%8F%A3%E7%BD%91%E6%A1%A5%E2%80%94%E2%80%94%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">3.8.4.1.</span> <span class="toc-text">
          多接口网桥——以太网交换机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E4%B8%A4%E7%A7%8D%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">3.8.4.2.</span> <span class="toc-text">
          以太网交换机的两种交换方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E5%9F%9F%E5%92%8C%E5%B9%BF%E6%92%AD%E5%9F%9F"><span class="toc-number">3.8.4.3.</span> <span class="toc-text">
          冲突域和广播域</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0%E2%80%94%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">
          第4章——网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">4.1.</span> <span class="toc-text">
          4.1 网络层的功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.1.</span> <span class="toc-text">
          4.1.1 网络层功能概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2%E3%80%81%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2%E4%B8%8E%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">4.1.2.</span> <span class="toc-text">
          4.1.2 电路交换、报文交换与分组交换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">
          总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-%E6%95%B0%E6%8D%AE%E6%8A%A5%E4%B8%8E%E8%99%9A%E7%94%B5%E8%B7%AF"><span class="toc-number">4.1.3.</span> <span class="toc-text">
          4.1.3 数据报与虚电路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%A0%E7%A7%8D%E4%BC%A0%E8%BE%93%E5%8D%95%E5%85%83%E5%90%8D%E8%AF%8D%E8%BE%A8%E6%9E%90"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">
          几种传输单元名词辨析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">
          数据报</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF"><span class="toc-number">4.1.3.3.</span> <span class="toc-text">
          虚电路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.4.</span> <span class="toc-text">
          4.2 路由算法与路由协议概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">4.1.4.1.</span> <span class="toc-text">
          路由算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E5%88%86%E7%B1%BB"><span class="toc-number">4.1.4.2.</span> <span class="toc-text">
          路由算法分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E6%AC%A1%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.4.3.</span> <span class="toc-text">
          分层次的路由选择协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-IPv4"><span class="toc-number">4.1.5.</span> <span class="toc-text">
          4.3 IPv4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.1.6.</span> <span class="toc-text">
          4.3.1 IP数据报格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-IP%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">4.1.6.1.</span> <span class="toc-text">
          TCP&#x2F;IP协议栈</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%88%86%E7%89%87"><span class="toc-number">4.1.7.</span> <span class="toc-text">
          4.3.2 IP数据报分片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-3-IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.8.</span> <span class="toc-text">
          4.3.3 IPv4地址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E7%BC%96%E5%9D%80%E7%9A%84%E5%8E%86%E5%8F%B2%E9%98%B6%E6%AE%B5"><span class="toc-number">4.1.8.1.</span> <span class="toc-text">
          IP编址的历史阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.8.2.</span> <span class="toc-text">
          分类的IP地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E6%9C%89IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.8.3.</span> <span class="toc-text">
          私有IP地址</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-4-%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E5%8C%96NAT"><span class="toc-number">4.1.9.</span> <span class="toc-text">
          4.3.4 网络地址转化NAT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-5-%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86%E4%B8%8E%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.1.10.</span> <span class="toc-text">
          4.3.5 子网划分与子网掩码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="toc-number">4.1.10.1.</span> <span class="toc-text">
          子网划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.1.10.2.</span> <span class="toc-text">
          子网掩码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E7%BD%91%E6%97%B6%E5%88%86%E7%BB%84%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">4.1.10.3.</span> <span class="toc-text">
          使用子网时分组的转发</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-6-%E6%97%A0%E5%88%86%E7%B1%BB%E6%A0%87%E5%BF%97CIDR"><span class="toc-number">4.1.11.</span> <span class="toc-text">
          4.3.6 无分类标志CIDR</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E6%88%90%E8%B6%85%E7%BD%91"><span class="toc-number">4.1.11.1.</span> <span class="toc-text">
          构成超网</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="toc-number">4.1.11.2.</span> <span class="toc-text">
          最长前缀匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-7-ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.12.</span> <span class="toc-text">
          4.3.7 ARP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.12.1.</span> <span class="toc-text">
          ARP协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-8-DHCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.13.</span> <span class="toc-text">
          4.3.8 DHCP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DHCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.13.1.</span> <span class="toc-text">
          DHCP协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-9-ICMP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.1.14.</span> <span class="toc-text">
          4.3.9 ICMP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ICMP%E5%B7%AE%E9%94%99%E6%8A%A5%E5%91%8A%E6%8A%A5%E6%96%87"><span class="toc-number">4.1.14.1.</span> <span class="toc-text">
          ICMP差错报告报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%BA%94%E5%8F%91%E9%80%81ICMP%E5%B7%AE%E9%94%99%E6%8A%A5%E6%96%87%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">4.1.14.2.</span> <span class="toc-text">
          不应发送ICMP差错报文的情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ICMP%E8%AF%A2%E9%97%AE%E6%8A%A5%E6%96%87"><span class="toc-number">4.1.14.3.</span> <span class="toc-text">
          ICMP询问报文</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-IPv6"><span class="toc-number">4.2.</span> <span class="toc-text">
          4.4 IPv6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.2.1.</span> <span class="toc-text">
          IPv6数据报格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%92%8CIPv4"><span class="toc-number">4.2.2.</span> <span class="toc-text">
          IPv6和IPv4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%9C%B0%E5%9D%80%E8%A1%A8%E7%A4%BA%E5%BD%A2%E5%BC%8F"><span class="toc-number">4.2.3.</span> <span class="toc-text">
          IPv6地址表示形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%9F%BA%E6%9C%AC%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.2.4.</span> <span class="toc-text">
          IPv6基本地址类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%90%91IPv4%E8%BF%87%E6%B8%A1%E7%9A%84%E7%AD%96%E7%95%A5"><span class="toc-number">4.2.5.</span> <span class="toc-text">
          IPv6向IPv4过渡的策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.3.</span> <span class="toc-text">
          4.5 路由协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-RIP%E5%8D%8F%E8%AE%AE%E4%B8%8E%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">4.3.1.</span> <span class="toc-text">
          4.5.1 RIP协议与距离向量算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RIP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">
          RIP协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RIP%E5%8D%8F%E8%AE%AE%E5%92%8C%E8%B0%81%E4%BA%A4%E6%8D%A2%EF%BC%9F%E5%A4%9A%E4%B9%85%E4%BA%A4%E6%8D%A2%E4%B8%80%E6%AC%A1%EF%BC%9F%E4%BA%A4%E6%8D%A2%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">4.3.1.2.</span> <span class="toc-text">
          RIP协议和谁交换？多久交换一次？交换什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">4.3.1.3.</span> <span class="toc-text">
          距离向量算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RIP%E5%8D%8F%E8%AE%AE%E5%A5%BD%E6%B6%88%E6%81%AF%E4%BC%A0%E5%BE%97%E5%BF%AB%EF%BC%8C%E5%9D%8F%E6%B6%88%E6%81%AF%E4%BC%A0%E7%9A%84%E6%85%A2"><span class="toc-number">4.3.1.4.</span> <span class="toc-text">
          RIP协议好消息传得快，坏消息传的慢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2-OSPF%E5%8D%8F%E8%AE%AE%E4%B8%8E%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E7%AE%97%E6%B3%95"><span class="toc-number">4.3.2.</span> <span class="toc-text">
          4.5.2 OSPF协议与链路状态算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">
          链路状态路由算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPF%E7%9A%84%E5%8C%BA%E5%9F%9F"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">
          OSPF的区域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPF%E5%88%86%E7%BB%84"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">
          OSPF分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPF%E5%85%B6%E4%BB%96%E7%89%B9%E7%82%B9"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">
          OSPF其他特点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-3-BGP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.3.3.</span> <span class="toc-text">
          4.5.3 BGP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP%E5%8D%8F%E8%AE%AE%E4%BA%A4%E6%8D%A2%E4%BF%A1%E6%81%AF%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">
          BGP协议交换信息的过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP%E5%8D%8F%E8%AE%AE%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">
          BGP协议报文格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9"><span class="toc-number">4.3.3.3.</span> <span class="toc-text">
          BGP协议特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP-4%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%8A%A5%E6%96%87"><span class="toc-number">4.3.3.4.</span> <span class="toc-text">
          BGP-4的四种报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E6%AF%94%E8%BE%83"><span class="toc-number">4.3.3.5.</span> <span class="toc-text">
          三种路由协议比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-IP%E7%BB%84%E6%92%AD"><span class="toc-number">4.4.</span> <span class="toc-text">
          4.6 IP组播</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E4%B8%89%E7%A7%8D%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">4.4.1.</span> <span class="toc-text">
          IP数据报的三种传输方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80"><span class="toc-number">4.5.</span> <span class="toc-text">
          IP组播地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E7%BB%84%E6%92%AD"><span class="toc-number">4.5.1.</span> <span class="toc-text">
          硬件组播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IGMP%E5%8D%8F%E8%AE%AE%E4%B8%8E%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.5.2.</span> <span class="toc-text">
          IGMP协议与组播路由选择协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AEIGMP"><span class="toc-number">4.5.3.</span> <span class="toc-text">
          网际组管理协议IGMP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IGMP%E5%B7%A5%E4%BD%9C%E7%9A%84%E4%B8%A4%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">4.5.4.</span> <span class="toc-text">
          IGMP工作的两个阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.5.5.</span> <span class="toc-text">
          组播路由选择协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-%E7%A7%BB%E5%8A%A8IP"><span class="toc-number">4.6.</span> <span class="toc-text">
          4.7 移动IP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-8-%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">4.7.</span> <span class="toc-text">
          4.8 网络层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-number">4.7.1.</span> <span class="toc-text">
          路由器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%AB%AF%E5%8F%A3%E5%AF%B9%E7%BA%BF%E8%B7%AF%E4%B8%8A%E6%94%B6%E5%88%B0%E7%9A%84%E5%88%86%E7%BB%84%E5%A4%84%E7%90%86"><span class="toc-number">4.7.2.</span> <span class="toc-text">
          输入端口对线路上收到的分组处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%AB%AF%E5%8F%A3%E5%B0%86%E4%BA%A4%E6%8D%A2%E7%BB%93%E6%9E%84%E4%BC%A0%E9%80%81%E6%9D%A5%E7%9A%84%E5%88%86%E7%BB%84%E5%8F%91%E9%80%81%E5%88%B0%E7%BA%BF%E8%B7%AF"><span class="toc-number">4.7.3.</span> <span class="toc-text">
          输出端口将交换结构传送来的分组发送到线路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E8%AE%BE%E5%A4%87%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.7.4.</span> <span class="toc-text">
          三层设备的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%A1%A8%E4%B8%8E%E8%B7%AF%E7%94%B1%E8%BD%AC%E5%8F%91"><span class="toc-number">4.7.5.</span> <span class="toc-text">
          路由表与路由转发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0%E2%80%94%E2%80%94%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">
          第5章——传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">5.1.</span> <span class="toc-text">
          5.1 传输层概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.1.1.</span> <span class="toc-text">
          传输层的两个协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9A%84%E5%AF%BB%E5%9D%80%E4%B8%8E%E7%AB%AF%E5%8F%A3"><span class="toc-number">5.1.2.</span> <span class="toc-text">
          传输层的寻址与端口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-UDP%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.2.</span> <span class="toc-text">
          5.2 UDP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AEUDP%E6%A6%82%E8%BF%B0"><span class="toc-number">5.2.1.</span> <span class="toc-text">
          用户数据报协议UDP概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%A0%A1%E9%AA%8C"><span class="toc-number">5.2.2.</span> <span class="toc-text">
          UDP校验</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-TCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.3.</span> <span class="toc-text">
          5.3 TCP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-TCP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9%E5%92%8CTCP%E6%8A%A5%E6%96%87%E6%AE%B5%E6%A0%BC%E5%BC%8F"><span class="toc-number">5.3.1.</span> <span class="toc-text">
          5.3.1 TCP协议特点和TCP报文段格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">5.3.1.1.</span> <span class="toc-text">
          TCP协议的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E6%8A%A5%E6%96%87%E6%AE%B5%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F"><span class="toc-number">5.3.1.2.</span> <span class="toc-text">
          TCP报文段首部格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-TCP%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">5.3.2.</span> <span class="toc-text">
          5.3.2 TCP连接管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B"><span class="toc-number">5.3.2.1.</span> <span class="toc-text">
          TCP的连接建立</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SYN%E6%B4%AA%E6%B3%9B%E6%94%BB%E5%87%BB"><span class="toc-number">5.3.2.2.</span> <span class="toc-text">
          SYN洪泛攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E9%87%8A%E6%94%BE"><span class="toc-number">5.3.2.3.</span> <span class="toc-text">
          TCP的连接释放</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-3-TCP%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">5.3.3.</span> <span class="toc-text">
          5.3.3 TCP可靠传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%8F%E5%8F%B7"><span class="toc-number">5.3.3.1.</span> <span class="toc-text">
          序号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AE%E8%AE%A4"><span class="toc-number">5.3.3.2.</span> <span class="toc-text">
          确认</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E4%BC%A0"><span class="toc-number">5.3.3.3.</span> <span class="toc-text">
          重传</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-4-TCP%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">5.3.4.</span> <span class="toc-text">
          5.3.4 TCP流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-5-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">5.3.5.</span> <span class="toc-text">
          5.3.5 TCP拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E5%9B%9B%E7%A7%8D%E7%AE%97%E6%B3%95"><span class="toc-number">5.3.5.1.</span> <span class="toc-text">
          拥塞控制四种算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%85%A2%E5%BC%80%E5%A7%8B%E5%92%8C%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D"><span class="toc-number">5.3.5.2.</span> <span class="toc-text">
          慢开始和拥塞避免</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%87%8D%E4%BC%A0%E5%92%8C%E5%BF%AB%E6%81%A2%E5%A4%8D"><span class="toc-number">5.3.5.3.</span> <span class="toc-text">
          快重传和快恢复</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0%E2%80%94%E2%80%94%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">6.</span> <span class="toc-text">
          第6章——应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">6.1.</span> <span class="toc-text">
          6.1 网络应用模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">6.1.1.</span> <span class="toc-text">
          应用层概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">6.1.2.</span> <span class="toc-text">
          网络应用模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-DNS%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.2.</span> <span class="toc-text">
          6.2 DNS解析系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AEFTP"><span class="toc-number">6.3.</span> <span class="toc-text">
          6.3 文件传送协议FTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">6.4.</span> <span class="toc-text">
          6.4 电子邮件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AESMTP"><span class="toc-number">6.4.1.</span> <span class="toc-text">
          简单邮件传送协议SMTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%82%AE%E5%B1%80%E5%8D%8F%E8%AE%AEPOP3"><span class="toc-number">6.4.2.</span> <span class="toc-text">
          邮局协议POP3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E6%8A%A5%E6%96%87%E5%AD%98%E5%8F%96%E5%8D%8F%E8%AE%AEIMAP"><span class="toc-number">6.4.2.1.</span> <span class="toc-text">
          网际报文存取协议IMAP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-%E4%B8%87%E7%BB%B4%E7%BD%91%E5%92%8CHTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.5.</span> <span class="toc-text">
          6.5 万维网和HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E7%BB%B4%E7%BD%91%E6%A6%82%E8%BF%B0"><span class="toc-number">6.5.1.</span> <span class="toc-text">
          万维网概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AEHTTP"><span class="toc-number">6.5.2.</span> <span class="toc-text">
          超文本传输协议HTTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">6.5.3.</span> <span class="toc-text">
          HTTP协议的特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%8C%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">
          完结</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">gddFeng</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2418180738&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">35</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">10</div><div class="sidebar-ov-state-item__name">分类</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021~2022</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>gddFeng All Rights Reserved</span><span class="footer__devider">|</span><span>冀2021001072号</span></div><div>有英勇也有温柔。</div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.json"></script></body></html>